"use strict";(function(){Error.stackTraceLimit=1/0;var e;if("undefined"!=typeof window?e=window:"undefined"!=typeof self?e=self:"undefined"!=typeof global?(e=global).require=require:e=this,void 0===e||void 0===e.Array)throw new Error("no global object found");if("undefined"!=typeof module&&module,!e.fs&&e.require)try{var t=e.require("fs");"object"==typeof t&&null!==t&&0!==Object.keys(t).length&&(e.fs=t)}catch(e){}if(!e.fs){var r="",n=new TextDecoder("utf-8");e.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync:function(e,t){var a=(r+=n.decode(t)).lastIndexOf("\n");return-1!=a&&(console.log(r.substring(0,a)),r=r.substring(a+1)),t.length},write:function(e,t,r,n,a,l){0===r&&n===t.length&&null===a?l(null,this.writeSync(e,t)):l(enosys())}}}var a,l={},o=0,i=e=>e?Object.keys(e):[],u=()=>{a("invalid memory address or nil pointer dereference")},s=t=>function(...r){return st(t(this,new(De(xe))(e.Array.prototype.slice.call(r,[]))),Ve)};console.log;if(void 0!==e.process&&e.require)try{var c=e.require("util");0}catch(e){}console.log;var p=e=>{for(var t=i(l),r=0;r<t.length;r++){var n=l[t[r]][e];"function"==typeof n&&n()}},$=(e,t)=>{for(var r=new e.constructor(e.length),n=0;n<e.length;n++)r[n]=t(e[n]);return r},f=(e,t)=>{var r=e.$methodVals||{};e.$methodVals=r;var n=r[t];return void 0!==n||(n=e[t].bind(e),r[t]=n),n},d=e=>e.$array.constructor!==Array?e.$array.subarray(e.$offset,e.$offset+e.$length):e.$array.slice(e.$offset,e.$offset+e.$length),h=(e,t)=>{var r=e.charCodeAt(t);if(r<128)return[r,1];if(r!=r||r<192)return[65533,1];var n=e.charCodeAt(t+1);if(n!=n||n<128||192<=n)return[65533,1];if(r<224)return(l=(31&r)<<6|63&n)<=127?[65533,1]:[l,2];var a=e.charCodeAt(t+2);if(a!=a||a<128||192<=a)return[65533,1];if(r<240)return(l=(15&r)<<12|(63&n)<<6|63&a)<=2047||55296<=l&&l<=57343?[65533,1]:[l,3];var l,o=e.charCodeAt(t+3);return o!=o||o<128||192<=o?[65533,1]:r<248?(l=(7&r)<<18|(63&n)<<12|(63&a)<<6|63&o)<=65535||1114111<l?[65533,1]:[l,4]:[65533,1]},v=e=>((e<0||e>1114111||55296<=e&&e<=57343)&&(e=65533),e<=127?String.fromCharCode(e):e<=2047?String.fromCharCode(192|e>>6,128|63&e):e<=65535?String.fromCharCode(224|e>>12,128|e>>6&63,128|63&e):String.fromCharCode(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e)),k=(e,t,r,n,a,l)=>{if(0!==a&&(e!==t||r!==n))if(t.subarray)e.set(t.subarray(n,n+a),r);else{switch(l.kind){case P:case q:if(e===t&&r>n){for(var o=a-1;o>=0;o--)l.copy(e[r+o],t[n+o]);return}for(o=0;o<a;o++)l.copy(e[r+o],t[n+o]);return}if(e===t&&r>n)for(o=a-1;o>=0;o--)e[r+o]=t[n+o];else for(o=0;o<a;o++)e[r+o]=t[n+o]}},b=(e,t)=>{var r=t.zero();return t.copy(r,e),r},w=function(e){return g(e,arguments,1,arguments.length-1)},g=(e,t,r,n)=>{if(0===n)return e;let a=e.$length+n,l=m(e,a),o=l.$array;return k(o,t,l.$offset+l.$length,r,n,l.constructor.elem),l.$length=a,l};var m=(e,t)=>{let r=e.$array,n=e.$offset;const a=e.$length;let l=e.$capacity;if(t>l){let o;if(l=((e,t)=>Math.max(e,t<1024?2*t:Math.floor(5*t/4)))(t,l),r.constructor===Array){o=r.slice(n,n+a),o.length=l;const t=e.constructor.elem.zero;for(let r=e.$length;r<l;r++)o[r]=t()}else o=new r.constructor(l),o.set(r.subarray(n,n+a));r=o,n=0}let o=new e.constructor(r);return o.$offset=n,o.$length=a,o.$capacity=l,o},y=(e,t,r)=>{if(r===xe)return e===t;switch(r.kind){case L:case z:return e.$real===t.$real&&e.$imag===t.$imag;case T:case F:return e.$high===t.$high&&e.$low===t.$low;case P:if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!y(e[n],t[n],r.elem))return!1;return!0;case q:for(n=0;n<r.fields.length;n++){var a=r.fields[n];if(!y(e[a.prop],t[a.prop],a.typ))return!1}return!0;case R:return V(e,t);default:return e===t}},V=(e,t)=>e===Ce||t===Ce?e===t:e.constructor===t.constructor&&(e.constructor===xe?e.object===t.object:(e.constructor.comparable||a("comparing uncomparable type "+e.constructor.string),y(e.$val,t.$val,e.constructor))),C=e=>e,S=(e,t)=>e instanceof t,x=e=>typeof e,_=(Math.min,parseInt),j=e=>null!=e&&e.constructor===Number?e:parseFloat(e),E=new Float32Array(1),I=Math.fround||(e=>(E[0]=e,E[0])),G=(Math.imul,e=>4294967296*e.$high+e.$low),T=6,O=10,F=11,A=12,N=13,U=14,L=15,z=16,P=17,R=20,B=22,D=23,M=24,q=25,H=[],J=e=>{if(e===Ce)return"nil";var t=e.constructor;return t.string+"$"+t.keyFor(e.$val)},W=e=>e,Q=0,Y=e=>(void 0===e.$id&&(o++,e.$id=o),String(e.$id)),K=()=>function(e){this.$get=()=>e,this.$set=function(e){typ.copy(this,e)},this.$val=e},X=(e,t,r,n,l,i,s)=>{var c;switch(t){case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case O:case A:case 26:(c=function(e){this.$val=e}).wrapped=!0,c.keyFor=W;break;case M:(c=function(e){this.$val=e}).wrapped=!0,c.keyFor=e=>"$"+e;break;case N:case U:(c=function(e){this.$val=e}).wrapped=!0,c.keyFor=e=>{return(t=e)!=t?"NaN$"+ ++o:String(t);var t};break;case T:(c=function(e,t){this.$high=e+Math.floor(Math.ceil(t)/4294967296)|0,this.$low=t>>>0,this.$val=this}).keyFor=e=>e.$high+"$"+e.$low;break;case F:(c=function(e,t){this.$high=e+Math.floor(Math.ceil(t)/4294967296)>>>0,this.$low=t>>>0,this.$val=this}).keyFor=e=>e.$high+"$"+e.$low;break;case L:(c=function(e,t){this.$real=I(e),this.$imag=I(t),this.$val=this}).keyFor=e=>e.$real+"$"+e.$imag;break;case z:(c=function(e,t){this.$real=e,this.$imag=t,this.$val=this}).keyFor=e=>e.$real+"$"+e.$imag;break;case P:(c=function(e){this.$val=e}).wrapped=!0,c.ptr=X(4,B,"*"+r,!1,"",!1,K()),c.init=(e,t)=>{c.elem=e,c.len=t,c.comparable=e.comparable,c.keyFor=t=>Array.prototype.join.call($(t,t=>String(e.keyFor(t)).replace(/\\/g,"\\\\").replace(/\$/g,"\\$")),"$"),c.copy=(t,r)=>{void 0===r.length?(r.$length<t.length&&a("cannot convert slice with length "+r.$length+" to array or pointer to array with length "+t.length),k(t,r.$array,0,0,t.length,e)):k(t,r,0,0,r.length,e)},c.ptr.init(c),Object.defineProperty(c.ptr.nil,"nilCheck",{get:u})};break;case 18:(c=function(e){this.$val=e}).wrapped=!0,c.keyFor=Y,c.init=(e,t,r)=>{c.elem=e,c.sendOnly=t,c.recvOnly=r};break;case 19:(c=function(e){this.$val=e}).wrapped=!0,c.init=(e,t,r)=>{c.params=e,c.results=t,c.variadic=r,c.comparable=!1};break;case R:(c={implementedBy:{},missingMethodFor:{}}).keyFor=J,c.init=e=>{c.methods=e,e.forEach(e=>{Ce[e.prop]=u})};break;case 21:(c=function(e){this.$val=e}).wrapped=!0,c.init=(e,t)=>{c.key=e,c.elem=t,c.comparable=!1};break;case B:(c=s||function(e,t,r){this.$get=e,this.$set=t,this.$target=r,this.$val=this}).keyFor=Y,c.init=e=>{c.elem=e,c.wrapped=e.kind===P,c.nil=new c(u,u)};break;case D:(c=function(e){e.constructor!==c.nativeArray&&(e=new c.nativeArray(e)),this.$array=e,this.$offset=0,this.$length=e.length,this.$capacity=e.length,this.$val=this}).init=e=>{c.elem=e,c.comparable=!1,c.nativeArray=ve(e.kind),c.nil=new c([]),Object.freeze(c.nil)};break;case q:(c=function(e){this.$val=e}).wrapped=!0,c.ptr=X(4,B,"*"+r,!1,l,i,s),c.ptr.elem=c,c.ptr.prototype.$get=function(){return this},c.ptr.prototype.$set=function(e){c.copy(this,e)},c.init=(e,t)=>{c.pkgPath=e,c.fields=t,t.forEach(e=>{e.typ.comparable||(c.comparable=!1)}),c.keyFor=e=>{var r=e.$val;return $(t,e=>String(e.typ.keyFor(r[e.prop])).replace(/\\/g,"\\\\").replace(/\$/g,"\\$")).join("$")},c.copy=(e,r)=>{for(var n=0;n<t.length;n++){var a=t[n];switch(a.typ.kind){case P:case q:a.typ.copy(e[a.prop],r[a.prop]);continue;default:e[a.prop]=r[a.prop];continue}}};var r,n={};t.forEach(e=>{n[e.prop]={get:u,set:u}}),c.ptr.nil=Object.create(s.prototype,n),c.ptr.nil.$val=c.ptr.nil,r=()=>{var e=(e,t,r)=>{void 0===e.prototype[t.prop]&&(e.prototype[t.prop]=function(...e){var n=this.$val[r.prop];return r.typ===xe&&(n=new xe(n)),void 0===n.$val&&(n=new r.typ(n)),n[t.prop](...e)})};t.forEach(t=>{t.embedded&&(Z(t.typ).forEach(r=>{e(c,r,t),e(c.ptr,r,t)}),Z(Be(t.typ)).forEach(r=>{e(c.ptr,r,t)}))})},null!==H?H.push(r):r()};break;default:Ye(new de("invalid kind: "+t))}switch(t){case 1:case 21:c.zero=()=>!1;break;case 2:case 3:case 4:case 5:case 7:case 8:case 9:case O:case A:case 26:case N:case U:c.zero=()=>0;break;case M:c.zero=()=>"";break;case T:case F:case L:case z:var p=new c(0,0);c.zero=()=>p;break;case B:case D:c.zero=()=>c.nil;break;case 18:c.zero=()=>we;break;case 19:c.zero=()=>u;break;case R:c.zero=()=>Ce;break;case P:c.zero=()=>{var e=ve(c.elem.kind);if(e!==Array)return new e(c.len);for(var t=new Array(c.len),r=0;r<c.len;r++)t[r]=c.elem.zero();return t};break;case q:c.zero=()=>new c.ptr;break;default:Ye(new de("invalid kind: "+t))}return c.id=Q,Q++,c.size=e,c.kind=t,c.string=r,c.named=n,c.pkg=l,c.exported=i,c.methods=[],c.methodSetCache=null,c.comparable=!0,c},Z=e=>{if(null!==e.methodSetCache)return e.methodSetCache;var t={},r=e.kind===B;if(r&&e.elem.kind===R)return e.methodSetCache=[],[];for(var n=[{typ:r?e.elem:e,indirect:r}],a={};n.length>0;){var l=[],o=[];n.forEach(e=>{if(!a[e.typ.string])switch(a[e.typ.string]=!0,e.typ.named&&(o=o.concat(e.typ.methods),e.indirect&&(o=o.concat(Be(e.typ).methods))),e.typ.kind){case q:e.typ.fields.forEach(t=>{if(t.embedded){var r=t.typ,n=r.kind===B;l.push({typ:n?r.elem:r,indirect:e.indirect||n})}});break;case R:o=o.concat(e.typ.methods)}}),o.forEach(e=>{void 0===t[e.name]&&(t[e.name]=e)}),n=l}return e.methodSetCache=[],Object.keys(t).sort().forEach(r=>{e.methodSetCache.push(t[r])}),e.methodSetCache},ee=X(1,1,"bool",!0,"",!1,null),te=X(4,2,"int",!0,"",!1,null),re=X(1,3,"int8",!0,"",!1,null),ne=X(2,4,"int16",!0,"",!1,null),ae=X(4,5,"int32",!0,"",!1,null),le=X(8,T,"int64",!0,"",!1,null),oe=X(4,7,"uint",!0,"",!1,null),ie=X(1,8,"uint8",!0,"",!1,null),ue=X(2,9,"uint16",!0,"",!1,null),se=X(4,O,"uint32",!0,"",!1,null),ce=X(8,F,"uint64",!0,"",!1,null),pe=X(4,A,"uintptr",!0,"",!1,null),$e=X(4,N,"float32",!0,"",!1,null),fe=X(8,U,"float64",!0,"",!1,null),de=(X(8,L,"complex64",!0,"",!1,null),X(16,z,"complex128",!0,"",!1,null),X(8,M,"string",!0,"",!1,null)),he=X(4,26,"unsafe.Pointer",!0,"unsafe",!1,null),ve=e=>{switch(e){case 2:return Int32Array;case 3:return Int8Array;case 4:return Int16Array;case 5:return Int32Array;case 7:return Uint32Array;case 8:return Uint8Array;case 9:return Uint16Array;case O:case A:return Uint32Array;case N:return Float32Array;case U:return Float64Array;default:return Array}},ke={},be=(e,t)=>{var r=e.id+"$"+t,n=ke[r];return void 0===n&&(n=X(e.size*t,P,"["+t+"]"+e.string,!1,"",!1,null),ke[r]=n,n.init(e,t)),n},we=new function(e,t){(t<0||t>2147483647)&&a("makechan: size out of range"),this.$elem=e,this.$capacity=t,this.$buffer=[],this.$sendQueue=[],this.$recvQueue=[],this.$closed=!1}(null,0);we.$sendQueue=we.$recvQueue={length:0,push(){},shift(){},indexOf:()=>-1};var ge={},me=(e,t,r)=>{var n=$(e,e=>e.id).join(",")+"$"+$(t,e=>e.id).join(",")+"$"+r,a=ge[n];if(void 0===a){var l=$(e,e=>e.string);r&&(l[l.length-1]="..."+l[l.length-1].substring(2));var o="func("+l.join(", ")+")";1===t.length?o+=" "+t[0].string:t.length>1&&(o+=" ("+$(t,e=>e.string).join(", ")+")"),a=X(4,19,o,!1,"",!1,null),ge[n]=a,a.init(e,t,r)}return a},ye={},Ve=(e=>{var t=$(e,e=>e.pkg+","+e.name+","+e.typ.id).join("$"),r=ye[t];if(void 0===r){var n="interface {}";0!==e.length&&(n="interface { "+$(e,e=>(""!==e.pkg?e.pkg+".":"")+e.name+e.typ.string.substring(4)).join("; ")+" }"),r=X(8,R,n,!1,"",!1,null),ye[t]=r,r.init(e)}return r})([]),Ce={};X(8,R,"error",!0,"",!1,null).init([{prop:"Error",name:"Error",pkg:"",typ:me([],[de],!1)}]);var Se,xe,_e,je,Ee,Ie,Ge,Te,Oe,Fe,Ae,Ne,Ue,Le,ze={},Pe=(e,t)=>{var r=e.id+"$"+t.id,n=ze[r];return void 0===n&&(n=X(4,21,"map["+e.string+"]"+t.string,!1,"",!1,null),ze[r]=n,n.init(e,t)),n},Re=(e,t)=>{for(var r=new Map,n=0;n<t.length;n++){var a=t[n];r.set(e(a.k),a)}return r},Be=e=>{var t=e.ptr;return void 0===t&&(t=X(4,B,"*"+e.string,!1,"",e.exported,null),e.ptr=t,t.init(e)),t},De=e=>{var t=e.slice;return void 0===t&&(t=X(12,D,"[]"+e.string,!1,"",!1,null),e.slice=t,t.init(e)),t},Me=(e,t,r=t)=>{(t<0||t>2147483647)&&a("makeslice: len out of range"),(r<0||r<t||r>2147483647)&&a("makeslice: cap out of range");var n=new e.nativeArray(r);if(e.nativeArray===Array)for(var l=0;l<r;l++)n[l]=e.elem.zero();var o=new e(n);return o.$length=t,o},qe=(e,t,r)=>{var n,a=t.kind===R,o="";if(e===Ce)n=!1;else if(a){var i=e.constructor.string;if(void 0===(n=t.implementedBy[i])){n=!0;for(var u=Z(e.constructor),s=t.methods,c=0;c<s.length;c++){for(var p=s[c],$=!1,f=0;f<u.length;f++){var d=u[f];if(d.name===p.name&&d.pkg===p.pkg&&d.typ===p.typ){$=!0;break}}if(!$){n=!1,t.missingMethodFor[i]=p.name;break}}t.implementedBy[i]=n}n||(o=t.missingMethodFor[i])}else n=e.constructor===t;if(!n){if(r)return[t.zero(),!1];Ye(new l.runtime.TypeAssertionError.ptr(l.runtime._type.ptr.nil,e===Ce?l.runtime._type.ptr.nil:new l.runtime._type.ptr(e.constructor.string),new l.runtime._type.ptr(t.string),o))}return a||(e=e.$val),t===xe&&(e=e.object),r?[e,!0]:e},He=0,Je=()=>{var e=new Error;if(void 0!==e.stack)return He+e.stack.split("\n").length},We=null,Qe=(e,t,r)=>{if(!r&&null!==e&&-1==Ze.deferStack.indexOf(e))throw t;if(null===t){if(!Ze.asleep){He--;var n=We,a=Se,l=Ze.panicStack.pop();void 0!==l&&(We=Je(),Se=l);try{for(;;){if(null===e&&void 0===(e=Ze.deferStack[Ze.deferStack.length-1])){if(We=null,l.Object instanceof Error)throw l.Object;var o;throw o=l.constructor===de?l.$val:void 0!==l.Error?l.Error():void 0!==l.String?l.String():l,new Error(o)}var i=e.pop();if(void 0===i){if(Ze.deferStack.pop(),void 0!==l){e=null;continue}return}var u=i[0].apply(i[2],i[1]);if(u&&void 0!==u.$blk){if(e.push([u.$blk,[],u]),r)throw null;return}if(void 0!==l&&null===We){if(r)throw null;return}}}catch(t){if(r)throw t;Qe(e,t,r)}finally{void 0!==l&&(null!==We&&Ze.panicStack.push(l),We=n,Se=a),He++}}}else{var s=null;try{Ye(new _e(t))}catch(e){s=e}Qe(e,s)}},Ye=e=>{Ze.panicStack.push(e),Qe(null,null,!0)},Ke=()=>null===We||void 0!==We&&We!==Je()-2?Ce:(We=null,Se),Xe={asleep:!1,exit:!1,deferStack:[],panicStack:[]},Ze=Xe,et=0,tt=!0,rt=0,nt=!1,at=[],lt=()=>{var e=setTimeout(lt);try{for(var t,r=Date.now();void 0!==(t=at.shift());){t();var n=Date.now()-r;if(n>4||n<0)break}}finally{0==at.length&&clearTimeout(e)}},ot=e=>{e.asleep&&(e.asleep=!1,et++),at.push(e),Ze===Xe&&lt()},it=(e,t)=>void 0!==e&&void 0!==e.$blk?e:t,ut=e=>{switch(e.kind){case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case O:case A:case N:case U:return!1;default:return e!==xe}},st=(e,t,r)=>{if(t===xe)return e;switch(t.kind){case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case O:case A:case N:case U:return e;case T:case F:return G(e);case P:return ut(t.elem)?$(e,e=>st(e,t.elem,r)):e;case 19:return ct(e,t,!1,r);case R:return e===Ce?null:e.constructor===xe?e.$val.object:st(e.$val,e.constructor,r);case 21:if(void 0===e.keys)return null;for(var n={},o=Array.from(e.keys()),i=0;i<o.length;i++){var u=e.get(o[i]);n[st(u.k,t.key,r)]=st(u.v,t.elem,r)}return n;case B:return e===t.nil?null:st(e.$get(),t.elem,r);case D:return e===e.constructor.nil?null:ut(t.elem)?$(d(e),e=>st(e,t.elem,r)):d(e);case M:if(ft(e))return e;var s,c="";for(i=0;i<e.length;i+=s[1]){var p=(s=h(e,i))[0];if(p>65535){var f=Math.floor((p-65536)/1024)+55296,v=(p-65536)%1024+56320;c+=String.fromCharCode(f,v)}else c+=String.fromCharCode(p)}return c;case q:var k=l.time;if(void 0!==k&&e.constructor===k.Time.ptr){var b=((e,t,r)=>{0===t.$high&&0===t.$low&&a("integer divide by zero");var n=1,l=1,o=e.$high,i=e.$low;o<0&&(n=-1,l=-1,o=-o,0!==i&&(o--,i=4294967296-i));var u=t.$high,s=t.$low;t.$high<0&&(n*=-1,u=-u,0!==s&&(u--,s=4294967296-s));for(var c=0,p=0,$=0;u<2147483648&&(o>u||o===u&&i>s);)u=(u<<1|s>>>31)>>>0,s=s<<1>>>0,$++;for(var f=0;f<=$;f++)c=c<<1|p>>>31,p=p<<1>>>0,(o>u||o===u&&i>=s)&&(o-=u,(i-=s)<0&&(o--,i+=4294967296),4294967296===++p&&(c++,p=0)),s=(s>>>1|u<<31)>>>0,u>>>=1;return r?new e.constructor(o*l,i*l):new e.constructor(c*n,p*n)})(e.UnixNano(),new le(0,1e6));return new Date(G(b))}var w={},g=(e,t)=>{if(t===xe)return e;switch(t.kind){case B:return e===t.nil?w:g(e.$get(),t.elem);case q:if(0===t.fields.length)return w;var r=t.fields[0];return g(e[r.prop],r.typ);case R:return g(e.$val,e.constructor);default:return w}},m=g(e,t);if(m!==w)return m;if(void 0!==r)return r(e);m={};for(i=0;i<t.fields.length;i++){var y=t.fields[i];y.exported&&(m[y.name]=st(e[y.prop],y.typ,r))}return m}a("cannot externalize "+t.string)},ct=(e,t,r,n)=>e===u?null:(void 0===e.$externalizeWrapper&&(tt=!1,e.$externalizeWrapper=function(){for(var a=[],l=0;l<t.params.length;l++){if(t.variadic&&l===t.params.length-1){for(var o=t.params[l].elem,i=[],u=l;u<arguments.length;u++)i.push(pt(arguments[u],o,n));a.push(new t.params[l](i));break}a.push(pt(arguments[l],t.params[l],n))}var s=e.apply(r?this:void 0,a);switch(t.results.length){case 0:return;case 1:return st($t(s,t.results[0]),t.results[0],n);default:for(l=0;l<t.results.length;l++)s[l]=st($t(s[l],t.results[l]),t.results[l],n);return s}}),e.$externalizeWrapper),pt=(t,r,n,o,u)=>{if(r===xe)return t;if(r===xe.elem&&a("cannot internalize js.Object, use *js.Object instead"),t&&void 0!==t.__internal_object__)return qe(t.__internal_object__,r,!1);var s=l.time;if(void 0!==s&&r===s.Time)return null!=t&&t.constructor===Date||a("cannot internalize time.Time from "+typeof t+", must be Date"),s.Unix(new le(0,0),new le(0,1e6*t.getTime()));if(void 0===o&&(o=new Map),o.has(r)||o.set(r,new Map),o.get(r).has(t))return o.get(r).get(t);switch(r.kind){case 1:return!!t;case 2:return parseInt(t);case 3:return parseInt(t)<<24>>24;case 4:return parseInt(t)<<16>>16;case 5:return parseInt(t)|0;case 7:return parseInt(t);case 8:return parseInt(t)<<24>>>24;case 9:return parseInt(t)<<16>>>16;case O:case A:return parseInt(t)>>>0;case T:case F:return new r(0,t);case N:case U:return parseFloat(t);case P:return null==t&&a("cannot internalize "+t+" as a "+r.string),t.length!==r.len&&a("got array with wrong size from JavaScript native"),$(t,e=>pt(e,r.elem,u));case 19:return function(){for(var e=[],a=0;a<r.params.length;a++){if(r.variadic&&a===r.params.length-1){for(var l=r.params[a].elem,o=arguments[a],i=0;i<o.$length;i++)e.push(st(o.$array[o.$offset+i],l,u));break}e.push(st(arguments[a],r.params[a],u))}var s=t.apply(n,e);switch(r.results.length){case 0:return;case 1:return pt(s,r.results[0],u);default:for(a=0;a<r.results.length;a++)s[a]=pt(s[a],r.results[a],u);return s}};case R:if(0!==r.methods.length&&a("cannot internalize "+r.string),null===t)return Ce;if(void 0===t)return new xe(void 0);switch(t.constructor){case Int8Array:return new(De(re))(t);case Int16Array:return new(De(ne))(t);case Int32Array:return new(De(te))(t);case Uint8Array:return new(De(ie))(t);case Uint16Array:return new(De(ue))(t);case Uint32Array:return new(De(oe))(t);case Float32Array:return new(De($e))(t);case Float64Array:return new(De(fe))(t);case Array:return pt(t,De(Ve),u);case Boolean:return new ee(!!t);case Date:return void 0===s?new xe(t):new s.Time(pt(t,s.Time,u));case(()=>{}).constructor:var c=me([De(Ve)],[xe],!0);return new c(pt(t,c,u));case Number:return new fe(parseFloat(t));case String:return new de(pt(t,de,u));default:if(e.Node&&t instanceof e.Node)return new xe(t);var p=Pe(de,Ve);return new p(pt(t,p,n,o,u))}case 21:var f=new Map;o.get(r).set(t,f);for(var d=i(t),h=0;h<d.length;h++){var k=pt(d[h],r.key,n,o,u);f.set(r.key.keyFor(k),{k:k,v:pt(t[d[h]],r.elem,n,o,u)})}return f;case B:if(r.elem.kind===q)return pt(t,r.elem,u);case D:return null==t?r.zero():new r($(t,e=>pt(e,r.elem,u)));case M:if(t=String(t),ft(t))return t;var b="";for(h=0;h<t.length;){var w=t.charCodeAt(h);if(55296<=w&&w<=56319){var g=t.charCodeAt(h+1);b+=v(1024*(w-55296)+g-56320+65536),h+=2}else b+=v(w),h++}return b;case q:var m={},y=e=>{if(e===xe)return t;switch(e===xe.elem&&a("cannot internalize js.Object, use *js.Object instead"),e.kind){case B:return y(e.elem);case q:if(0===e.fields.length)return m;var r=e.fields[0],n=y(r.typ);if(n!==m){var l=new e.ptr;return l[r.prop]=n,l}return m;default:return m}},V=y(r);if(V!==m)return V;var C=new r.ptr;for(h=0;h<r.fields.length;h++){var S=r.fields[h];if(S.exported){var x=t[S.name];C[S.prop]=pt(x,S.typ,n,o,u)}}return C}a("cannot internalize "+r.string)},$t=(e,t)=>{if(e&&e.constructor&&e.constructor.copy)return new e.constructor(b(e.$val,e.constructor));if(t.copy){var r=t.zero();return t.copy(r,e),r}return e},ft=e=>{for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>=128)return!1;return!0};l["github.com/gopherjs/gopherjs/js"]=function(){var t,r,n,a,l,o,i,u,c={};return r=X(0,q,"js.Object",!0,"github.com/gopherjs/gopherjs/js",!0,function(e){this.$val=this,this.object=0!==arguments.length?e:null}),n=X(0,q,"js.Error",!0,"github.com/gopherjs/gopherjs/js",!0,function(e){this.$val=this,this.Object=0!==arguments.length?e:null}),c.Object=r,c.Error=n,c.$finishSetup=function(){a=De(Ve),l=Be(r),o=Be(n),Be(r).prototype.Get=function(e){return this.object[st(e,de)]},Be(r).prototype.Set=function(e,t){this.object[st(e,de)]=st(t,Ve)},Be(r).prototype.Delete=function(e){delete this.object[st(e,de)]},Be(r).prototype.Length=function(){return _(this.object.length)},Be(r).prototype.Index=function(e){return this.object[e]},Be(r).prototype.SetIndex=function(e,t){this.object[e]=st(t,Ve)},Be(r).prototype.Call=function(e,t){var r;return(r=this.object)[st(e,de)].apply(r,st(t,a))},Be(r).prototype.Invoke=function(e){return this.object.apply(void 0,st(e,a))},Be(r).prototype.New=function(t){return new(e.Function.prototype.bind.apply(this.object,[void 0].concat(st(t,a))))},Be(r).prototype.Bool=function(){return!!this.object},Be(r).prototype.String=function(){return pt(this.object,de)},Be(r).prototype.Int=function(){return _(this.object)|0},Be(r).prototype.Int64=function(){return pt(this.object,le)},Be(r).prototype.Uint64=function(){return pt(this.object,ce)},Be(r).prototype.Float=function(){return j(this.object)},Be(r).prototype.Interface=function(){return pt(this.object,Ve)},Be(r).prototype.Unsafe=function(){return this.object},Be(n).prototype.Error=function(){return"JavaScript error: "+pt(this.Object.message,de)},Be(n).prototype.Stack=function(){return pt(this.Object.stack,de)},i=function(e){return s(e)},c.MakeFunc=i,u=function(){new n.ptr(null)},l.methods=[{prop:"Get",name:"Get",pkg:"",typ:me([de],[l],!1)},{prop:"Set",name:"Set",pkg:"",typ:me([de,Ve],[],!1)},{prop:"Delete",name:"Delete",pkg:"",typ:me([de],[],!1)},{prop:"Length",name:"Length",pkg:"",typ:me([],[te],!1)},{prop:"Index",name:"Index",pkg:"",typ:me([te],[l],!1)},{prop:"SetIndex",name:"SetIndex",pkg:"",typ:me([te,Ve],[],!1)},{prop:"Call",name:"Call",pkg:"",typ:me([de,a],[l],!0)},{prop:"Invoke",name:"Invoke",pkg:"",typ:me([a],[l],!0)},{prop:"New",name:"New",pkg:"",typ:me([a],[l],!0)},{prop:"Bool",name:"Bool",pkg:"",typ:me([],[ee],!1)},{prop:"String",name:"String",pkg:"",typ:me([],[de],!1)},{prop:"Int",name:"Int",pkg:"",typ:me([],[te],!1)},{prop:"Int64",name:"Int64",pkg:"",typ:me([],[le],!1)},{prop:"Uint64",name:"Uint64",pkg:"",typ:me([],[ce],!1)},{prop:"Float",name:"Float",pkg:"",typ:me([],[fe],!1)},{prop:"Interface",name:"Interface",pkg:"",typ:me([],[Ve],!1)},{prop:"Unsafe",name:"Unsafe",pkg:"",typ:me([],[pe],!1)}],o.methods=[{prop:"Error",name:"Error",pkg:"",typ:me([],[de],!1)},{prop:"Stack",name:"Stack",pkg:"",typ:me([],[de],!1)}],r.init("github.com/gopherjs/gopherjs/js",[{prop:"object",name:"object",embedded:!1,exported:!1,typ:l,tag:""}]),n.init("",[{prop:"Object",name:"Object",embedded:!0,exported:!0,typ:l,tag:""}])},t=function(){c.$init=function(){};var e,r,n=0;for(void 0!==this&&void 0!==this.$blk&&(n=(e=this).$s,r=e.$r);;){if(0===n)u();return}return void 0===e&&(e={$blk:t}),e.$s=n,e.$r=r,e},c.$init=t,c}(),l.runtime=(Le={},Ee=l["github.com/gopherjs/gopherjs/js"],Ie=X(0,q,"runtime._type",!0,"runtime",!1,function(e){this.$val=this,this.str=0!==arguments.length?e:""}),Ge=X(0,q,"runtime.TypeAssertionError",!0,"runtime",!0,function(e,t,r,n){if(this.$val=this,0===arguments.length)return this._interface=Oe.nil,this.concrete=Oe.nil,this.asserted=Oe.nil,void(this.missingMethod="");this._interface=e,this.concrete=t,this.asserted=r,this.missingMethod=n}),Te=X(8,M,"runtime.errorString",!0,"runtime",!1,null),Le._type=Ie,Le.TypeAssertionError=Ge,Le.errorString=Te,Le.$finishSetup=function(){Oe=Be(Ie),Fe=Be(Ge),Be(Ie).prototype.string=function(){return this.str},Be(Ie).prototype.pkgpath=function(){return""},Be(Ge).prototype.RuntimeError=function(){},Be(Ge).prototype.Error=function(){var e,t,r,n,a;return n="interface",(r=this)._interface!==Oe.nil&&(n=r._interface.string()),e=r.asserted.string(),r.concrete===Oe.nil?"interface conversion: "+n+" is nil, not "+e:(t=r.concrete.string(),""===r.missingMethod?(a="interface conversion: "+n+" is "+t+", not "+e,t===e&&(r.concrete.pkgpath()!==r.asserted.pkgpath()?a+=" (types from different packages)":a+=" (types from different scopes)"),a):"interface conversion: "+t+" is not "+e+": missing method "+r.missingMethod)},Ae=function(){var e;e=l[st("github.com/gopherjs/gopherjs/js",de)],xe=e.Object.ptr,_e=e.Error.ptr,a=Ue,pt("go1.20.14",de),new Ge.ptr(Oe.nil,Oe.nil,Oe.nil,"")},Ne=function(){Ze.exit=st(!0,ee),(e=>{throw e})(null)},Le.Goexit=Ne,Te.prototype.RuntimeError=function(){this.$val},Be(Te).prototype.RuntimeError=function(...e){return new Te(this.$get()).RuntimeError(...e)},Te.prototype.Error=function(){return"runtime error: "+this.$val},Be(Te).prototype.Error=function(...e){return new Te(this.$get()).Error(...e)},Ue=function(e){Ye(new Te(e))},Oe.methods=[{prop:"string",name:"string",pkg:"runtime",typ:me([],[de],!1)},{prop:"pkgpath",name:"pkgpath",pkg:"runtime",typ:me([],[de],!1)}],Fe.methods=[{prop:"RuntimeError",name:"RuntimeError",pkg:"",typ:me([],[],!1)},{prop:"Error",name:"Error",pkg:"",typ:me([],[de],!1)}],Te.methods=[{prop:"RuntimeError",name:"RuntimeError",pkg:"",typ:me([],[],!1)},{prop:"Error",name:"Error",pkg:"",typ:me([],[de],!1)}],Ie.init("runtime",[{prop:"str",name:"str",embedded:!1,exported:!1,typ:de,tag:""}]),Ge.init("runtime",[{prop:"_interface",name:"_interface",embedded:!1,exported:!1,typ:Oe,tag:""},{prop:"concrete",name:"concrete",embedded:!1,exported:!1,typ:Oe,tag:""},{prop:"asserted",name:"asserted",embedded:!1,exported:!1,typ:Oe,tag:""},{prop:"missingMethod",name:"missingMethod",embedded:!1,exported:!1,typ:de,tag:""}])},je=function(){Le.$init=function(){};var e,t,r=!1,n=0;void 0!==this&&void 0!==this.$blk&&(r=!0,n=(e=this).$s,t=e.$r);e:for(;;){switch(n){case 0:t=Ee.$init(),n=1;case 1:if(r&&(r=!1,t=t.$blk()),t&&void 0!==t.$blk)break e;Ae()}return}return void 0===e&&(e={$blk:je}),e.$s=n,e.$r=t,e},Le.$init=je,Le),l["syscall/js"]=function(){var t,r,n,o,i,u,s,c,p,$,f,d,h,v,k,g,m,y,E,I,G,T,O,F,A,N,U,L,z,P,R={};return r=l["github.com/gopherjs/gopherjs/js"],n=X(4,2,"js.Type",!0,"syscall/js",!0,null),o=X(0,q,"js.Func",!0,"syscall/js",!0,function(e){this.$val=this,this.Value=0!==arguments.length?e:new u.ptr(null,!1,$.zero())}),i=X(0,q,"js.Error",!0,"syscall/js",!0,function(e){this.$val=this,this.Value=0!==arguments.length?e:new u.ptr(null,!1,$.zero())}),u=X(0,q,"js.Value",!0,"syscall/js",!0,function(e,t,r){if(this.$val=this,0===arguments.length)return this.v=null,this.inited=!1,void(this._$2=$.zero());this.v=e,this.inited=t,this._$2=r}),s=X(0,q,"js.ValueError",!0,"syscall/js",!0,function(e,t){if(this.$val=this,0===arguments.length)return this.Method="",void(this.Type=0);this.Method=e,this.Type=t}),R.Type=n,R.Func=o,R.Error=i,R.Value=u,R.ValueError=s,R.$finishSetup=function(){c=De(de),p=me([],[],!1),$=be(p,0),f=De(u),d=Pe(de,Ve),h=De(Ve),v=Be(r.Error),k=Be(r.Object),g=Be(s),n.prototype.String=function(){var e;return(((e=this.$val)|0)<0||I.$length<=(e|0))&&Ye(new de("bad type")),e<0||e>=I.$length?void a("index out of range"):I.$array[I.$offset+e]},Be(n).prototype.String=function(...e){return new n(this.$get()).String(...e)},n.prototype.isObject=function(){var e;return 6===(e=this.$val)||7===e},Be(n).prototype.isObject=function(...e){return new n(this.$get()).isObject(...e)},G=function(){return A(e)},R.Global=G,T=function(){return A(null)},R.Null=T,O=function(){return A(void 0)},R.Undefined=O,Be(o).prototype.Release=function(){rt=(_(rt)|0)-1|0,u.copy(this.Value,T())},o.prototype.Release=function(...e){return this.$val.Release(...e)},F=function(e){return rt=1+(_(rt)|0)|0,new o.ptr(b(A(r.MakeFunc(function t(r,n){var{$24r:l,_i:o,_r:i,_ref:s,a:c,args:n,i:p,this$1:r,vargs:$,$s:d,$r:h,$c:v}=it(this,{this$1:r,args:n});d=d||0;e:for(;;){switch(d){case 0:for($=Me(f,n.$length),s=n,o=0;o<s.$length;)p=o,c=o<0||o>=s.$length?void a("index out of range"):s.$array[s.$offset+o],u.copy(p<0||p>=$.$length?void a("index out of range"):$.$array[$.$offset+p],A(c)),o++;i=e(b(A(r),u),$),d=1;case 1:if(v&&(v=!1,i=i.$blk()),i&&void 0!==i.$blk)break e;l=i,d=2;case 2:return l}return}return{$blk:t,$c:!0,$r:h,$24r:l,_i:o,_r:i,_ref:s,a:c,args:n,i:p,this$1:r,vargs:$,$s:d}})),u))},R.FuncOf=F,Be(i).prototype.Error=function(){return"JavaScript error: "+b(b(this.Value,u).Get("message"),u).String()},i.prototype.Error=function(...e){return this.$val.Error(...e)},A=function(e){return void 0===e?new u.ptr(null,!1,$.zero()):new u.ptr(e,!0,$.zero())},N=function(){null!==e&&(m=C,y=S,E=x)},U=function(e){var t,r,n,l;if(null===e)return 1;for(n=pt(E(e),de),r=I,t=0;t<r.$length;){if(l=t,n===(t<0||t>=r.$length?void a("index out of range"):r.$array[r.$offset+t]))return l|0;t++}return 6},L=function(e){var t;return qe(t=e,u,!0)[1]?b(t.$val,u):qe(t,o,!0)[1]?b(t.$val,o).Value:t===Ce?T():qe(t,ee,!0)[1]||qe(t,te,!0)[1]||qe(t,re,!0)[1]||qe(t,ne,!0)[1]||qe(t,ae,!0)[1]||qe(t,le,!0)[1]||qe(t,oe,!0)[1]||qe(t,ie,!0)[1]||qe(t,ue,!0)[1]||qe(t,se,!0)[1]||qe(t,ce,!0)[1]||qe(t,$e,!0)[1]||qe(t,fe,!0)[1]||qe(t,he,!0)[1]||qe(t,de,!0)[1]||qe(t,d,!0)[1]||qe(t,h,!0)[1]?A(m(st(t,Ve))):void Ye(new de("ValueOf: invalid value"))},R.ValueOf=L,Be(u).prototype.internal=function(){if(this.inited)return this.v},u.prototype.internal=function(...e){return this.$val.internal(...e)},Be(u).prototype.Bool=function(){var e;return 2!==(e=b(this,u).Type())&&Ye(new s.ptr("Value.Bool",e)),!!b(this,u).internal()},u.prototype.Bool=function(...e){return this.$val.Bool(...e)},z=function(e){var t,r,n,l,o;for(l=new h([]),r=e,t=0;t<r.$length;)n=t<0||t>=r.$length?void a("index out of range"):r.$array[r.$offset+t],o=b(L(n),u),l=w(l,new xe(b(o,u).internal())),t++;return l},P=function(){var e,t,r,n;t=Ke(),V(t,Ce)||(r=(e=qe(t,v,!0))[0],e[1]&&Ye(new((n=new i.ptr(b(A(r.Object),u))).constructor.elem)(n)),Ye(t))},Be(u).prototype.Call=function(e,t){var r,a,l,o,i,c=null;try{return i=[],Ze.deferStack.push(i),6!==(o=b(l=this,u).Type())&&7!==o&&Ye(new s.ptr("Value.Call",o)),7!==(a=b(b(l,u).Get(e),u).Type())&&Ye(new de("js: Value.Call: property "+e+" is not a function, got "+new n(a).String())),i.push([P,[]]),A((r=b(l,u).internal())[st(e,de)].apply(r,st(z(t),h)))}catch(e){return c=e,new u.ptr(null,!1,$.zero())}finally{Qe(i,c)}},u.prototype.Call=function(...e){return this.$val.Call(...e)},Be(u).prototype.Float=function(){var e;return 3!==(e=b(this,u).Type())&&Ye(new s.ptr("Value.Float",e)),j(b(this,u).internal())},u.prototype.Float=function(...e){return this.$val.Float(...e)},Be(u).prototype.Get=function(e){var t;return t=b(this,u).Type(),new n(t).isObject()||Ye(new s.ptr("Value.Get",t)),A(b(this,u).internal()[st(e,de)])},u.prototype.Get=function(...e){return this.$val.Get(...e)},Be(u).prototype.Index=function(e){var t;return t=b(this,u).Type(),new n(t).isObject()||Ye(new s.ptr("Value.Index",t)),A(b(this,u).internal()[e])},u.prototype.Index=function(...e){return this.$val.Index(...e)},Be(u).prototype.Int=function(){var e;return 3!==(e=b(this,u).Type())&&Ye(new s.ptr("Value.Int",e)),_(b(this,u).internal())|0},u.prototype.Int=function(...e){return this.$val.Int(...e)},Be(u).prototype.InstanceOf=function(e){return!!y(b(this,u).internal(),b(e,u).internal())},u.prototype.InstanceOf=function(...e){return this.$val.InstanceOf(...e)},Be(u).prototype.Invoke=function(e){var t;return 7!==(t=b(this,u).Type())&&Ye(new s.ptr("Value.Invoke",t)),A(b(this,u).internal().apply(void 0,st(z(e),h)))},u.prototype.Invoke=function(...e){return this.$val.Invoke(...e)},Be(u).prototype.JSValue=function(){return this},u.prototype.JSValue=function(...e){return this.$val.JSValue(...e)},Be(u).prototype.Length=function(){return _(b(this,u).internal().length)},u.prototype.Length=function(...e){return this.$val.Length(...e)},Be(u).prototype.New=function(t){var r,n,a=null;try{return n=[],Ze.deferStack.push(n),r=this,n.push([function(){var e,t,n,a,l;t=Ke(),V(t,Ce)||(7!==(a=b(r,u).Type())&&Ye(new s.ptr("Value.New",a)),n=(e=qe(t,v,!0))[0],e[1]&&Ye(new((l=new i.ptr(b(A(n.Object),u))).constructor.elem)(l)),Ye(t))},[]]),A(new(e.Function.prototype.bind.apply(b(r,u).internal(),[void 0].concat(st(z(t),h)))))}catch(e){return a=e,new u.ptr(null,!1,$.zero())}finally{Qe(n,a)}},u.prototype.New=function(...e){return this.$val.New(...e)},Be(u).prototype.Set=function(e,t){var r,l;r=b(this,u).Type(),new n(r).isObject()||Ye(new s.ptr("Value.Set",r)),b(this,u).internal()[st(e,de)]=st(0>=(l=z(new h([t]))).$length?void a("index out of range"):l.$array[l.$offset+0],Ve)},u.prototype.Set=function(...e){return this.$val.Set(...e)},Be(u).prototype.SetIndex=function(e,t){var r,l;r=b(this,u).Type(),new n(r).isObject()||Ye(new s.ptr("Value.SetIndex",r)),b(this,u).internal()[e]=st(0>=(l=z(new h([t]))).$length?void a("index out of range"):l.$array[l.$offset+0],Ve)},u.prototype.SetIndex=function(...e){return this.$val.SetIndex(...e)},Be(u).prototype.String=function(){var e,t;return 4===(e=b(t=this,u).Type())?pt(b(t,u).internal(),de):0===e?"<undefined>":1===e?"<null>":2===e?"<boolean: "+pt(b(t,u).internal(),de)+">":3===e?"<number: "+pt(b(t,u).internal(),de)+">":5===e?"<symbol>":6===e?"<object>":7===e?"<function>":void Ye(new de("bad type"))},u.prototype.String=function(...e){return this.$val.String(...e)},Be(u).prototype.Truthy=function(){return!!b(this,u).internal()},u.prototype.Truthy=function(...e){return this.$val.Truthy(...e)},Be(u).prototype.Type=function(){return U(b(this,u).internal())},u.prototype.Type=function(...e){return this.$val.Type(...e)},Be(u).prototype.IsNull=function(){return 1===b(this,u).Type()},u.prototype.IsNull=function(...e){return this.$val.IsNull(...e)},Be(u).prototype.IsUndefined=function(){return!this.inited},u.prototype.IsUndefined=function(...e){return this.$val.IsUndefined(...e)},Be(u).prototype.IsNaN=function(){return!!e.isNaN(b(this,u).internal())},u.prototype.IsNaN=function(...e){return this.$val.IsNaN(...e)},Be(u).prototype.Delete=function(e){var t;t=b(this,u).Type(),new n(t).isObject()||Ye(new s.ptr("Value.Delete",t)),delete b(this,u).internal()[st(e,de)]},u.prototype.Delete=function(...e){return this.$val.Delete(...e)},Be(u).prototype.Equal=function(e){return b(this,u).internal()===b(e,u).internal()},u.prototype.Equal=function(...e){return this.$val.Equal(...e)},Be(s).prototype.Error=function(){return"syscall/js: call of "+this.Method+" on "+new n(this.Type).String()},n.methods=[{prop:"String",name:"String",pkg:"",typ:me([],[de],!1)},{prop:"isObject",name:"isObject",pkg:"syscall/js",typ:me([],[ee],!1)}],o.methods=[{prop:"Release",name:"Release",pkg:"",typ:me([],[],!1)}],i.methods=[{prop:"Error",name:"Error",pkg:"",typ:me([],[de],!1)}],u.methods=[{prop:"internal",name:"internal",pkg:"syscall/js",typ:me([],[k],!1)},{prop:"Bool",name:"Bool",pkg:"",typ:me([],[ee],!1)},{prop:"Call",name:"Call",pkg:"",typ:me([de,h],[u],!0)},{prop:"Float",name:"Float",pkg:"",typ:me([],[fe],!1)},{prop:"Get",name:"Get",pkg:"",typ:me([de],[u],!1)},{prop:"Index",name:"Index",pkg:"",typ:me([te],[u],!1)},{prop:"Int",name:"Int",pkg:"",typ:me([],[te],!1)},{prop:"InstanceOf",name:"InstanceOf",pkg:"",typ:me([u],[ee],!1)},{prop:"Invoke",name:"Invoke",pkg:"",typ:me([h],[u],!0)},{prop:"JSValue",name:"JSValue",pkg:"",typ:me([],[u],!1)},{prop:"Length",name:"Length",pkg:"",typ:me([],[te],!1)},{prop:"New",name:"New",pkg:"",typ:me([h],[u],!0)},{prop:"Set",name:"Set",pkg:"",typ:me([de,Ve],[],!1)},{prop:"SetIndex",name:"SetIndex",pkg:"",typ:me([te,Ve],[],!1)},{prop:"String",name:"String",pkg:"",typ:me([],[de],!1)},{prop:"Truthy",name:"Truthy",pkg:"",typ:me([],[ee],!1)},{prop:"Type",name:"Type",pkg:"",typ:me([],[n],!1)},{prop:"IsNull",name:"IsNull",pkg:"",typ:me([],[ee],!1)},{prop:"IsUndefined",name:"IsUndefined",pkg:"",typ:me([],[ee],!1)},{prop:"IsNaN",name:"IsNaN",pkg:"",typ:me([],[ee],!1)},{prop:"Delete",name:"Delete",pkg:"",typ:me([de],[],!1)},{prop:"Equal",name:"Equal",pkg:"",typ:me([u],[ee],!1)}],g.methods=[{prop:"Error",name:"Error",pkg:"",typ:me([],[de],!1)}],o.init("",[{prop:"Value",name:"Value",embedded:!0,exported:!0,typ:u,tag:""}]),i.init("",[{prop:"Value",name:"Value",embedded:!0,exported:!0,typ:u,tag:""}]),u.init("syscall/js",[{prop:"v",name:"v",embedded:!1,exported:!1,typ:k,tag:""},{prop:"inited",name:"inited",embedded:!1,exported:!1,typ:ee,tag:""},{prop:"_$2",name:"_",embedded:!1,exported:!1,typ:$,tag:""}]),s.init("",[{prop:"Method",name:"Method",embedded:!1,exported:!0,typ:de,tag:""},{prop:"Type",name:"Type",embedded:!1,exported:!0,typ:n,tag:""}])},t=function(){R.$init=function(){};var e,n,a=!1,l=0;void 0!==this&&void 0!==this.$blk&&(a=!0,l=(e=this).$s,n=e.$r);e:for(;;){switch(l){case 0:n=r.$init(),l=1;case 1:if(a&&(a=!1,n=n.$blk()),n&&void 0!==n.$blk)break e;m=null,y=null,E=null,I=new c(["undefined","null","boolean","number","string","symbol","object","function"]),N()}return}return void 0===e&&(e={$blk:t}),e.$s=l,e.$r=n,e},R.$init=t,R}(),l["github.com/ScriptTiger/jsGo"]=function(){var e,t,r,n,o,i,u,s,c,p,$,d,h,v,k,w,g,m,y,V,C,S,x,_,j,E,I,G,T,O,F,A,N,U,L,z,P,R,B,D,M,q,H,J,W,Q,Y={};return t=l["syscall/js"],Y.$finishSetup=function(){r=De(Ve),n=me([],[],!1),o=be(n,0),z=function(e){return b(Y.Document,t.Value).Call("createElement",new r([new de(e)]))},Y.CreateElement=z,P=function(e){return b(Y.Document,t.Value).Call("getElementById",new r([new de(e)]))},Y.GetElementById=P,R=function(e){return b(b(Y.Error,t.Value).Call("isError",new r([new e.constructor.elem(e)])),t.Value).Bool()},Y.IsError=R,B=function(e,n){return b(b(Y.Object,t.Value).Call("hasOwn",new r([new e.constructor.elem(e),new de(n)])),t.Value).Bool()},Y.HasOwn=B,D=function(e){return t.FuncOf(function t(r,n){var{$24r:a,_r$30:l,args:n,this$1:r,$s:o,$r:i,$c:u}=it(this,{this$1:r,args:n});o=o||0;e:for(;;){switch(o){case 0:l=e(n),o=1;case 1:if(u&&(u=!1,l=l.$blk()),l&&void 0!==l.$blk)break e;a=l,o=2;case 2:return a}return}return{$blk:t,$c:!0,$r:i,$24r:a,_r$30:l,args:n,this$1:r,$s:o}})},Y.FuncOf=D,M=function(e){return D(function t(r){var{args:r,$s:n,$r:a,$c:l}=it(this,{args:r});n=n||0;e:for(;;){switch(n){case 0:a=e(r),n=1;case 1:if(l&&(l=!1,a=a.$blk()),a&&void 0!==a.$blk)break e;return n=-1,Ce}return}return{$blk:t,$c:!0,$r:a,args:r,$s:n}})},Y.ProcOf=M,q=function(e){return M(function t(r){var{args:r,$s:n,$r:a,$c:l}=it(this,{args:r});n=n||0;e:for(;;){switch(n){case 0:a=e(),n=1;case 1:if(l&&(l=!1,a=a.$blk()),a&&void 0!==a.$blk)break e;return void(n=-1)}return}return{$blk:t,$c:!0,$r:a,args:r,$s:n}})},Y.SimpleProcOf=q,H=function(e,n,l){var i,u,s,c,p,$;return s=b(b(e,t.Value).Call("then",new r([(c=D(function e(r){var{$24r:l,_r$30:o,args:r,$s:i,$r:u,$c:s}=it(this,{args:r});i=i||0;e:for(;;){switch(i){case 0:o=n(b(0>=r.$length?void a("index out of range"):r.$array[r.$offset+0],t.Value)),i=1;case 1:if(s&&(s=!1,o=o.$blk()),o&&void 0!==o.$blk)break e;l=o,i=2;case 2:return l}return}return{$blk:e,$c:!0,$r:u,$24r:l,_r$30:o,args:r,$s:i}}),new c.constructor.elem(c))])),t.Value),i=new t.Value.ptr(null,!1,o.zero()),l.$length>0?(t.Value.copy(i,b(s,t.Value).Call("catch",new r([(p=M(function e(r){var{args:r,$s:n,$r:o,$c:i}=it(this,{args:r});n=n||0;e:for(;;){switch(n){case 0:if(R(b(0>=r.$length?void a("index out of range"):r.$array[r.$offset+0],t.Value))){n=1;continue}n=2;continue;case 1:o=(0>=l.$length?void a("index out of range"):l.$array[l.$offset+0])(b(0>=r.$length?void a("index out of range"):r.$array[r.$offset+0],t.Value)),n=3;case 3:if(i&&(i=!1,o=o.$blk()),o&&void 0!==o.$blk)break e;case 2:return void(n=-1)}return}return{$blk:e,$c:!0,$r:o,args:r,$s:n}}),new p.constructor.elem(p))]))),l.$length>1?new((u=b(b(i,t.Value).Call("finally",new r([($=q(function e(){var{$s:r,$r:n,$c:i}=it(this,{});r=r||0;e:for(;;){switch(r){case 0:n=(1>=l.$length?void a("index out of range"):l.$array[l.$offset+1])(b(new t.Value.ptr(null,!1,o.zero()),t.Value)),r=1;case 1:if(i&&(i=!1,n=n.$blk()),n&&void 0!==n.$blk)break e;return void(r=-1)}return}return{$blk:e,$c:!0,$r:n,$s:r}}),new $.constructor.elem($))])),t.Value)).constructor.elem)(u):new i.constructor.elem(i)):new s.constructor.elem(s)},Y.ThenableChain=H,J=function(e,n){var a,l;return a=new t.Value.ptr(null,!1,o.zero()),t.Value.copy(a,z("script")),b(a,t.Value).Set("src",new de(e)),b(a,t.Value).Set("onload",new((l=q(n)).constructor.elem)(l)),b(a,t.Value).Set("async",new ee(!0)),b(Y.Head,t.Value).Call("appendChild",new r([new a.constructor.elem(a)])),a},Y.LoadJS=J,W=function(e,n){var l,i;return l=new t.Value.ptr(null,!1,o.zero()),t.Value.copy(l,z("button")),b(l,t.Value).Set("textContent",new de(e)),b(l,t.Value).Set("onclick",new((i=M(function e(l){var{event:l,$s:o,$r:i,$c:u}=it(this,{event:l});o=o||0;e:for(;;){switch(o){case 0:b(0>=l.$length?void a("index out of range"):l.$array[l.$offset+0],t.Value).Call("preventDefault",r.nil),i=n(),o=1;case 1:if(u&&(u=!1,i=i.$blk()),i&&void 0!==i.$blk)break e;return void(o=-1)}return}return{$blk:e,$c:!0,$r:i,event:l,$s:o}})).constructor.elem)(i)),l},Y.CreateButton=W,Q=function(e,n,l,i){var u,s,c,p;return c=new t.Value.ptr(null,!1,o.zero()),t.Value.copy(c,z("span")),s=b(z("input"),t.Value),b(s,t.Value).Set("type",new de("file")),b(s,t.Value).Set("accept",new de(n)),b(s,t.Value).Set("multiple",new ee(l)),b(s,t.Value).Set("style",new de("display: none;")),b(s,t.Value).Set("onchange",new((p=M(function e(r){var{event:r,$s:n,$r:l,$c:o}=it(this,{event:r});n=n||0;e:for(;;){switch(n){case 0:l=i(b(b(b(0>=r.$length?void a("index out of range"):r.$array[r.$offset+0],t.Value).Get("target"),t.Value).Get("files"),t.Value)),n=1;case 1:if(o&&(o=!1,l=l.$blk()),l&&void 0!==l.$blk)break e;return b(s,t.Value).Set("value",Ce),void(n=-1)}return}return{$blk:e,$c:!0,$r:l,event:r,$s:n}})).constructor.elem)(p)),b(c,t.Value).Call("appendChild",new r([new s.constructor.elem(s)])),u=b(W(e,function(){b(s,t.Value).Call("click",r.nil)}),t.Value),b(c,t.Value).Call("appendChild",new r([new u.constructor.elem(u)])),c},Y.CreateLoadFileButton=Q},e=function(){Y.$init=function(){};var n,a,l=!1,o=0;void 0!==this&&void 0!==this.$blk&&(l=!0,o=(n=this).$s,a=n.$r);e:for(;;){switch(o){case 0:a=t.$init(),o=1;case 1:if(l&&(l=!1,a=a.$blk()),a&&void 0!==a.$blk)break e;Y.Global=b(t.Global(),t.Value),Y.Get=f(b(Y.Global,t.Value),"Get"),i=Y.Get("Array"),o=2;case 2:if(l&&(l=!1,i=i.$blk()),i&&void 0!==i.$blk)break e;Y.Array=b(i,t.Value),u=Y.Get("Blob"),o=3;case 3:if(l&&(l=!1,u=u.$blk()),u&&void 0!==u.$blk)break e;Y.Blob=b(u,t.Value),s=Y.Get("Error"),o=4;case 4:if(l&&(l=!1,s=s.$blk()),s&&void 0!==s.$blk)break e;Y.Error=b(s,t.Value),c=Y.Get("FileReader"),o=5;case 5:if(l&&(l=!1,c=c.$blk()),c&&void 0!==c.$blk)break e;Y.FileReader=b(c,t.Value),p=Y.Get("Object"),o=6;case 6:if(l&&(l=!1,p=p.$blk()),p&&void 0!==p.$blk)break e;Y.Object=b(p,t.Value),$=Y.Get("String"),o=7;case 7:if(l&&(l=!1,$=$.$blk()),$&&void 0!==$.$blk)break e;Y.String=b($,t.Value),d=Y.Get("TextDecoder"),o=8;case 8:if(l&&(l=!1,d=d.$blk()),d&&void 0!==d.$blk)break e;Y.TextDecoder=b(d,t.Value),h=Y.Get("TextEncoder"),o=9;case 9:if(l&&(l=!1,h=h.$blk()),h&&void 0!==h.$blk)break e;Y.TextEncoder=b(h,t.Value),v=Y.Get("Uint8Array"),o=10;case 10:if(l&&(l=!1,v=v.$blk()),v&&void 0!==v.$blk)break e;Y.Uint8Array=b(v,t.Value),k=Y.Get("URL"),o=11;case 11:if(l&&(l=!1,k=k.$blk()),k&&void 0!==k.$blk)break e;Y.URL=b(k,t.Value),w=Y.Get("URLSearchParams"),o=12;case 12:if(l&&(l=!1,w=w.$blk()),w&&void 0!==w.$blk)break e;Y.URLSearchParams=b(w,t.Value),g=Y.Get("document"),o=13;case 13:if(l&&(l=!1,g=g.$blk()),g&&void 0!==g.$blk)break e;Y.Document=b(g,t.Value),Y.Head=b(b(Y.Document,t.Value).Get("head"),t.Value),Y.Body=b(b(Y.Document,t.Value).Get("body"),t.Value),m=Y.Get("location"),o=14;case 14:if(l&&(l=!1,m=m.$blk()),m&&void 0!==m.$blk)break e;Y.Location=b(m,t.Value),y=Y.Get("alert"),o=15;case 15:if(l&&(l=!1,y=y.$blk()),y&&void 0!==y.$blk)break e;Y.Alert=f(b(y,t.Value),"Invoke"),V=Y.Get("atob"),o=16;case 16:if(l&&(l=!1,V=V.$blk()),V&&void 0!==V.$blk)break e;Y.Atob=f(b(V,t.Value),"Invoke"),C=Y.Get("btoa"),o=17;case 17:if(l&&(l=!1,C=C.$blk()),C&&void 0!==C.$blk)break e;Y.Btoa=f(b(C,t.Value),"Invoke"),S=Y.Get("clearInterval"),o=18;case 18:if(l&&(l=!1,S=S.$blk()),S&&void 0!==S.$blk)break e;Y.ClearInterval=f(b(S,t.Value),"Invoke"),x=Y.Get("fetch"),o=19;case 19:if(l&&(l=!1,x=x.$blk()),x&&void 0!==x.$blk)break e;Y.Fetch=f(b(x,t.Value),"Invoke"),_=Y.Get("console"),o=20;case 20:if(l&&(l=!1,_=_.$blk()),_&&void 0!==_.$blk)break e;j=b(_,t.Value).Get("log"),o=21;case 21:if(l&&(l=!1,j=j.$blk()),j&&void 0!==j.$blk)break e;Y.Log=f(b(j,t.Value),"Invoke"),E=Y.Get("Date"),o=22;case 22:if(l&&(l=!1,E=E.$blk()),E&&void 0!==E.$blk)break e;I=b(E,t.Value).Get("now"),o=23;case 23:if(l&&(l=!1,I=I.$blk()),I&&void 0!==I.$blk)break e;Y.Now=f(b(I,t.Value),"Invoke"),G=Y.Get("parseInt"),o=24;case 24:if(l&&(l=!1,G=G.$blk()),G&&void 0!==G.$blk)break e;Y.ParseInt=f(b(G,t.Value),"Invoke"),T=Y.Get("setInterval"),o=25;case 25:if(l&&(l=!1,T=T.$blk()),T&&void 0!==T.$blk)break e;Y.SetInterval=f(b(T,t.Value),"Invoke"),O=Y.Get("setTimeout"),o=26;case 26:if(l&&(l=!1,O=O.$blk()),O&&void 0!==O.$blk)break e;Y.SetTimeout=f(b(O,t.Value),"Invoke"),F=Y.Get("showSaveFilePicker"),o=27;case 27:if(l&&(l=!1,F=F.$blk()),F&&void 0!==F.$blk)break e;Y.ShowSaveFilePicker=f(b(F,t.Value),"Invoke"),A=Y.Get("crypto"),o=28;case 28:if(l&&(l=!1,A=A.$blk()),A&&void 0!==A.$blk)break e;Y.Crypto=b(A,t.Value),Y.GetRandomValues=f(b(b(Y.Crypto,t.Value).Get("getRandomValues"),t.Value),"Invoke"),N=Y.Get("history"),o=29;case 29:if(l&&(l=!1,N=N.$blk()),N&&void 0!==N.$blk)break e;Y.History=b(N,t.Value),U=Y.Get("Math"),o=30;case 30:if(l&&(l=!1,U=U.$blk()),U&&void 0!==U.$blk)break e;Y.Math=b(U,t.Value),Y.Subtle=b(b(Y.Crypto,t.Value).Get("subtle"),t.Value),L=Y.Get("WebAssembly"),o=31;case 31:if(l&&(l=!1,L=L.$blk()),L&&void 0!==L.$blk)break e;Y.WebAssembly=b(L,t.Value),Y.Params=b(b(Y.URLSearchParams,t.Value).New(new r([new de(b(b(Y.Location,t.Value).Get("search"),t.Value).String())])),t.Value)}return}return void 0===n&&(n={$blk:e}),n.$s=o,n.$r=a,n},Y.$init=e,Y}(),l["main/src"]=function(){var e,t,r,n,o,i,u,s,c,p,$,f,d,h,v,k,w,g,m,y,V,C,S,x,_,j,E,I,G,T,O,F,A,N,U,L,z,P,R,B,D,M,q,H,J,W,Q,Y,K,X,Z,re,ne,ae={};return t=l["github.com/ScriptTiger/jsGo"],r=l.runtime,n=l["syscall/js"],ae.$finishSetup=function(){o=me([],[],!1),i=be(o,0),u=be(n.Value,8),s=be(ee,8),c=De(Ve),p=Pe(de,Ve),$=me([n.Value],[],!1),f=De($),U=function(e){b(_,n.Value).Call("appendChild",new c([new e.constructor.elem(e)]))},L=function(e){b(_,n.Value).Call("prepend",new c([new e.constructor.elem(e)]))},z=function(){var e;C||(C=!0,L(b(t.CreateElement("br"),n.Value)),L(b(t.CreateElement("br"),n.Value)),L(b(t.CreateElement("br"),n.Value)),L(b(t.CreateLoadFileButton("Image",".jpg, .jpeg, image/jpeg, .png, image/png, .gif, image/gif",!1,function e(r){var{_r:a,file:l,files:r,x:o,$s:i,$r:u,$c:s}=it(this,{files:r});i=i||0;e:for(;;){switch(i){case 0:if(l=b(b(r,n.Value).Index(0),n.Value),"image"===b(b(b(b(t.String,n.Value).New(new c([(o=b(l,n.Value).Get("type"),new o.constructor.elem(o))])),n.Value).Call("split",new c([new de("/"),new te(1)])),n.Value).Index(0),n.Value).String()){i=1;continue}i=2;continue;case 1:D(b(l,n.Value)),i=3;continue;case 2:a=t.Alert(new c([new de("You may only send valid image files at this time!")])),i=4;case 4:if(s&&(s=!1,a=a.$blk()),a&&void 0!==a.$blk)break e;case 3:return void(i=-1)}return}return{$blk:e,$c:!0,$r:u,_r:a,file:l,files:r,x:o,$s:i}}),n.Value)),L(b(t.CreateButton("Send",function(){B()}),n.Value)),L(b(t.CreateElement("br"),n.Value)),U(b(t.CreateElement("br"),n.Value)),n.Value.copy(I,t.CreateElement("textarea")),b(I,n.Value).Set("style",new de("resize: none;")),b(I,n.Value).Call("addEventListener",new c([new de("keydown"),(e=t.ProcOf(function(e){"Enter"===b(b(0>=e.$length?void a("index out of range"):e.$array[e.$offset+0],n.Value).Get("key"),n.Value).String()&&(b(0>=e.$length?void a("index out of range"):e.$array[e.$offset+0],n.Value).Call("preventDefault",c.nil),B())}),new e.constructor.elem(e))])),L(b(I,n.Value)),n.Value.copy(E,t.CreateElement("div")),L(b(E,n.Value)))},P=function(e){var r;b(E,n.Value).Call("append",new c([e])),b(E,n.Value).Call("appendChild",new c([(r=t.CreateElement("br"),new r.constructor.elem(r))]))},R=function(e){var t,r;for(t=0;t<8;)(r=t)!==T&&!b(r<0||r>=F.length?void a("index out of range"):F[r],n.Value).IsUndefined()&&(r<0||r>=A.length?void a("index out of range"):A[r])&&b(r<0||r>=F.length?void a("index out of range"):F[r],n.Value).Call("send",new c([e])),t++},B=function(){var e;e=b(b(I,n.Value).Get("value"),n.Value),""!==b(e,n.Value).String()&&(R(new p(Re(de.keyFor,[{k:"text",v:new e.constructor.elem(e)}]))),P(new de("Me: "+b(e,n.Value).String())),b(I,n.Value).Set("value",Ce))},D=function(e){var r,a;t.ThenableChain(b(b(e,n.Value).Call("arrayBuffer",c.nil),n.Value),function(e){var r;return R(new p(Re(de.keyFor,[{k:"image",v:(r=b(t.Array,n.Value).New(new c([new e.constructor.elem(e)])),new r.constructor.elem(r))}]))),Ce},f.nil),r=b(t.CreateElement("img"),n.Value),b(r,n.Value).Set("src",new((a=b(t.URL,n.Value).Call("createObjectURL",new c([new e.constructor.elem(e)]))).constructor.elem)(a)),P(new de("Me: ")),P(new r.constructor.elem(r))},M=function e(r){var{$24r:a,_r:l,_r$1:o,_r$2:i,_r$3:u,_r$4:s,_r$5:p,_r$6:$,_r$7:f,str:r,x:d,x$1:h,x$2:v,$s:k,$r:w,$c:g}=it(this,{str:r});k=k||0;e:for(;;){switch(k){case 0:l=t.Btoa(new c([new de(r)])),k=1;case 1:if(g&&(g=!1,l=l.$blk()),l&&void 0!==l.$blk)break e;o=b(t.String,n.Value).New(new c([(v=l,new v.constructor.elem(v))])),k=2;case 2:if(g&&(g=!1,o=o.$blk()),o&&void 0!==o.$blk)break e;i=b(o,n.Value).Call("replaceAll",new c([new de("="),new de("")])),k=3;case 3:if(g&&(g=!1,i=i.$blk()),i&&void 0!==i.$blk)break e;u=b(t.String,n.Value).New(new c([(h=i,new h.constructor.elem(h))])),k=4;case 4:if(g&&(g=!1,u=u.$blk()),u&&void 0!==u.$blk)break e;s=b(u,n.Value).Call("replaceAll",new c([new de("+"),new de("-")])),k=5;case 5:if(g&&(g=!1,s=s.$blk()),s&&void 0!==s.$blk)break e;p=b(t.String,n.Value).New(new c([(d=s,new d.constructor.elem(d))])),k=6;case 6:if(g&&(g=!1,p=p.$blk()),p&&void 0!==p.$blk)break e;$=b(p,n.Value).Call("replaceAll",new c([new de("/"),new de("_")])),k=7;case 7:if(g&&(g=!1,$=$.$blk()),$&&void 0!==$.$blk)break e;f=b($,n.Value).String(),k=8;case 8:if(g&&(g=!1,f=f.$blk()),f&&void 0!==f.$blk)break e;a="T"+f,k=9;case 9:return a}return}return{$blk:e,$c:!0,$r:w,$24r:a,_r:l,_r$1:o,_r$2:i,_r$3:u,_r$4:s,_r$5:p,_r$6:$,_r$7:f,str:r,x:d,x$1:h,x$2:v,$s:k}},q=function e(r){var{$24r:a,_r:l,_r$1:o,str:r,x:i,x$1:u,x$2:s,$s:p,$r:$,$c:f}=it(this,{str:r});p=p||0;e:for(;;){switch(p){case 0:l=t.Atob(new c([(i=b(b(t.String,n.Value).New(new c([(u=b(b(t.String,n.Value).New(new c([(s=b(b(t.String,n.Value).New(new c([new de(r)])),n.Value).Call("replaceAll",new c([new de("-"),new de("+")])),new s.constructor.elem(s))])),n.Value).Call("replaceAll",new c([new de("_"),new de("/")])),new u.constructor.elem(u))])),n.Value).Call("substring",new c([new te(1)])),new i.constructor.elem(i))])),p=1;case 1:if(f&&(f=!1,l=l.$blk()),l&&void 0!==l.$blk)break e;o=b(l,n.Value).String(),p=2;case 2:if(f&&(f=!1,o=o.$blk()),o&&void 0!==o.$blk)break e;a=o,p=3;case 3:return a}return}return{$blk:e,$c:!0,$r:$,$24r:a,_r:l,_r$1:o,str:r,x:i,x$1:u,x$2:s,$s:p}},H=function(){return""===g||""===m||""===y?Re(de.keyFor,[]):(""===V&&(V="all"),Re(de.keyFor,[{k:"config",v:new p(Re(de.keyFor,[{k:"iceServers",v:new c([new p(Re(de.keyFor,[{k:"urls",v:new de("turn:"+g)},{k:"username",v:new de(m)},{k:"credential",v:new de(y)}]))])},{k:"iceTransportPolicy",v:new de(V)}]))}]))},J=function(){var e,t,r;for(t=0,e=0;e<8;)b((r=e)<0||r>=F.length?void a("index out of range"):F[r],n.Value).IsUndefined()||(t=t+1|0),e++;return t},W=function e(r){var{_r:a,conn:l,id:r,peerID:o,salt:i,$s:u,$r:s,$c:$}=it(this,{id:r});u=u||0;e:for(;;){switch(u){case 0:if(!x&&N)return void(u=-1);a=M(v),u=1;case 1:if($&&($=!1,a=a.$blk()),a&&void 0!==a.$blk)break e;o=a+b(b(t.String,n.Value).Invoke(new c([new te(r)])),n.Value).String(),i=Z(),l=b(b(j,n.Value).Call("connect",new c([new de(o),new p(Re(de.keyFor,[{k:"metadata",v:new p(Re(de.keyFor,[{k:"challenge",v:new de(i)}]))}]))])),n.Value),s=ne(b(l,n.Value),r,!0,!1,i),u=2;case 2:if($&&($=!1,s=s.$blk()),s&&void 0!==s.$blk)break e;return void(u=-1)}return}return{$blk:e,$c:!0,$r:s,_r:a,conn:l,id:r,peerID:o,salt:i,$s:u}},Q=function e(t){var{reset:t,$s:r,$r:n,$c:a}=it(this,{reset:t});r=r||0;e:for(;;){switch(r){case 0:if(!x||N||J()>0)return void(r=-1);t?O=0===T?1:T-1|0:0===T?(7===O&&(O=0),O=O+1|0):7===T?(0===O&&(O=T),O=O-1|0):O=0===O?T+1|0:7===O?T-1|0:O>T?O+1|0:O-1|0,n=W(O),r=1;case 1:if(a&&(a=!1,n=n.$blk()),n&&void 0!==n.$blk)break e;return void(r=-1)}return}return{$blk:e,$c:!0,$r:n,reset:t,$s:r}},Y=function(e){b(_,n.Value).Set("innerHTML",new de(e)),r.Goexit()},K=function e(){var{_r:r,_r$1:l,_r$2:o,x:i,x$1:$,x$2:f,x$3:k,x$4:g,$s:m,$r:y,$c:V}=it(this,{});m=m||0;e:for(;;){switch(m){case 0:r=t.Get("Peer"),m=1;case 1:if(V&&(V=!1,r=r.$blk()),r&&void 0!==r.$blk)break e;l=M(v),m=2;case 2:if(V&&(V=!1,l=l.$blk()),l&&void 0!==l.$blk)break e;o=b(r,n.Value).New(new c([new de(l+b(b(t.String,n.Value).Invoke(new c([new te(T)])),n.Value).String()),new p(H())])),m=3;case 3:if(V&&(V=!1,o=o.$blk()),o&&void 0!==o.$blk)break e;return n.Value.copy(j,o),x=!1,N=!1,b(j,n.Value).Call("on",new c([new de("open"),(i=t.ProcOf(function e(r){var{_r$3:l,_r$4:o,_r$5:i,_r$6:p,id:r,shareLink:$,$s:f,$r:k,$c:g}=it(this,{id:r});f=f||0;t:for(;;){switch(f){case 0:$=[$],x=!0,N=!1,k=Q(!0),f=1;case 1:if(g&&(g=!1,k=k.$blk()),k&&void 0!==k.$blk)break t;if(!S){f=2;continue}f=3;continue;case 2:b(t.Document,n.Value).Set("title",new de("TigerChat - "+v)),b(_,n.Value).Set("innerHTML",Ce),U(b(t.CreateButton("Leave chat",function(){return function(){var e,r;for(e=0;e<8;)b((r=e)<0||r>=F.length?void a("index out of range"):F[r],n.Value).IsUndefined()||b(r<0||r>=F.length?void a("index out of range"):F[r],n.Value).Call("close",c.nil),e++;x=!1,N=!0,u.copy(F,u.zero()),s.copy(A,s.zero()),b(j,n.Value).Call("disconnect",c.nil),b(j,n.Value).Call("destroy",c.nil),b(_,n.Value).Set("innerHTML",Ce),U(b(t.CreateButton("Re-enter chat",function(){b(t.Location,n.Value).Set("href",new de(d))}),n.Value))}}()),n.Value)),l=M(v),f=4;case 4:if(g&&(g=!1,l=l.$blk()),l&&void 0!==l.$blk)break t;o=M(w),f=5;case 5:if(g&&(g=!1,o=o.$blk()),o&&void 0!==o.$blk)break t;$[0]=h+"?room="+l+"&password="+o,U(b(t.CreateButton("Copy share link",function(e){return function r(){var{_r$5:a,_r$6:l,_r$7:o,$s:i,$r:u,$c:s}=it(this,{});i=i||0;r:for(;;){switch(i){case 0:a=t.Get("navigator"),i=1;case 1:if(s&&(s=!1,a=a.$blk()),a&&void 0!==a.$blk)break r;l=b(a,n.Value).Get("clipboard"),i=2;case 2:if(s&&(s=!1,l=l.$blk()),l&&void 0!==l.$blk)break r;o=b(l,n.Value).Call("writeText",new c([new de(e[0])])),i=3;case 3:if(s&&(s=!1,o=o.$blk()),o&&void 0!==o.$blk)break r;return void(i=-1)}return}return{$blk:r,$c:!0,$r:u,_r$5:a,_r$6:l,_r$7:o,$s:i}}}($)),n.Value)),n.Value.copy(G,t.CreateElement("div")),U(b(G,n.Value)),i=t.Get("QRCode"),f=6;case 6:if(g&&(g=!1,i=i.$blk()),i&&void 0!==i.$blk)break t;p=b(i,n.Value).New(new c([new G.constructor.elem(G),new de($[0])])),f=7;case 7:if(g&&(g=!1,p=p.$blk()),p&&void 0!==p.$blk)break t;case 3:return void(f=-1)}return}return{$blk:e,$c:!0,$r:k,_r$3:l,_r$4:o,_r$5:i,_r$6:p,id:r,shareLink:$,$s:f}}),new i.constructor.elem(i))])),b(j,n.Value).Call("on",new c([new de("connection"),($=t.ProcOf(function e(r){var{_arg:l,_arg$1:o,_r$10:i,_r$3:u,_r$4:s,_r$5:p,_r$6:$,_r$7:f,_r$8:d,_r$9:h,conn:r,connID:k,metadata:w,reconnect:g,x$2:m,x$3:y,x$4:V,$s:C,$r:S,$c:_}=it(this,{conn:r});C=C||0;t:for(;;){switch(C){case 0:w=b(b(0>=r.$length?void a("index out of range"):r.$array[r.$offset+0],n.Value).Get("metadata"),n.Value),u=M(v),C=4;case 4:if(_&&(_=!1,u=u.$blk()),u&&void 0!==u.$blk)break t;l=new te(u.length),s=b(b(t.String,n.Value).New(new c([(m=b(0>=r.$length?void a("index out of range"):r.$array[r.$offset+0],n.Value).Get("peer"),new m.constructor.elem(m))])),n.Value).Call("substring",new c([new te(0),l])),C=5;case 5:if(_&&(_=!1,s=s.$blk()),s&&void 0!==s.$blk)break t;p=b(s,n.Value).String(),C=6;case 6:if(_&&(_=!1,p=p.$blk()),p&&void 0!==p.$blk)break t;$=M(v),C=7;case 7:if(_&&(_=!1,$=$.$blk()),$&&void 0!==$.$blk)break t;if(p===$){C=1;continue}C=2;continue;case 1:f=M(v),C=8;case 8:if(_&&(_=!1,f=f.$blk()),f&&void 0!==f.$blk)break t;o=new te(f.length),d=b(b(t.String,n.Value).New(new c([(V=b(0>=r.$length?void a("index out of range"):r.$array[r.$offset+0],n.Value).Get("peer"),new V.constructor.elem(V))])),n.Value).Call("substring",new c([o])),C=9;case 9:if(_&&(_=!1,d=d.$blk()),d&&void 0!==d.$blk)break t;h=t.ParseInt(new c([(y=d,new y.constructor.elem(y))])),C=10;case 10:if(_&&(_=!1,h=h.$blk()),h&&void 0!==h.$blk)break t;i=b(h,n.Value).Int(),C=11;case 11:if(_&&(_=!1,i=i.$blk()),i&&void 0!==i.$blk)break t;if(g=!1,b((k=i)<0||k>=F.length?void a("index out of range"):F[k],n.Value).IsUndefined()||(g=!0,b(k<0||k>=F.length?void a("index out of range"):F[k],n.Value).Call("close",c.nil),n.Value.copy(k<0||k>=F.length?void a("index out of range"):F[k],n.Undefined()),k<0||k>=A.length?a("index out of range"):A[k]=!1),!x){C=12;continue}C=13;continue;case 12:b(0>=r.$length?void a("index out of range"):r.$array[r.$offset+0],n.Value).Call("close",c.nil),C=14;continue;case 13:S=ne(b(0>=r.$length?void a("index out of range"):r.$array[r.$offset+0],n.Value),k,!1,g,b(b(w,n.Value).Get("challenge"),n.Value).String()),C=15;case 15:if(_&&(_=!1,S=S.$blk()),S&&void 0!==S.$blk)break t;case 14:C=3;continue;case 2:b(0>=r.$length?void a("index out of range"):r.$array[r.$offset+0],n.Value).Call("close",c.nil);case 3:return void(C=-1)}return}return{$blk:e,$c:!0,$r:S,_arg:l,_arg$1:o,_r$10:i,_r$3:u,_r$4:s,_r$5:p,_r$6:$,_r$7:f,_r$8:d,_r$9:h,conn:r,connID:k,metadata:w,reconnect:g,x$2:m,x$3:y,x$4:V,$s:C}}),new $.constructor.elem($))])),b(j,n.Value).Call("on",new c([new de("close"),(f=t.SimpleProcOf(function(){x=!1,N=!0}),new f.constructor.elem(f))])),b(j,n.Value).Call("on",new c([new de("disconnected"),(k=t.SimpleProcOf(function(){x=!1,N?x=!1:b(j,n.Value).Call("reconnect",c.nil)}),new k.constructor.elem(k))])),b(j,n.Value).Call("on",new c([new de("error"),(g=t.ProcOf(function e(r){var{_1:l,_r$3:o,_r$4:i,err:r,errType:u,x$5:s,$s:p,$r:$,$c:f}=it(this,{err:r});p=p||0;t:for(;;){switch(p){case 0:if("unavailable-id"===(l=u=b(b(0>=r.$length?void a("index out of range"):r.$array[r.$offset+0],n.Value).Get("type"),n.Value).String())){p=2;continue}if("peer-unavailable"===l){p=3;continue}p=4;continue;case 2:b(j,n.Value).Call("disconnect",c.nil),b(j,n.Value).Call("destroy",c.nil),x=!1,N=!0,7===T&&Y("This room is already full!"),T=T+1|0,$=K(),p=6;case 6:if(f&&(f=!1,$=$.$blk()),$&&void 0!==$.$blk)break t;p=5;continue;case 3:if(x&&0===J()){p=7;continue}p=8;continue;case 7:o=t.SetTimeout(new c([(s=t.SimpleProcOf(function e(){var{$s:t,$r:r,$c:n}=it(this,{});t=t||0;r:for(;;){switch(t){case 0:if(x&&0===J()){t=1;continue}t=2;continue;case 1:r=Q(!1),t=3;case 3:if(n&&(n=!1,r=r.$blk()),r&&void 0!==r.$blk)break r;case 2:return void(t=-1)}return}return{$blk:e,$c:!0,$r:r,$s:t}}),new s.constructor.elem(s)),new te(5e3)])),p=9;case 9:if(f&&(f=!1,o=o.$blk()),o&&void 0!==o.$blk)break t;case 8:p=5;continue;case 4:i=t.Log(new c([new de(u)])),p=10;case 10:if(f&&(f=!1,i=i.$blk()),i&&void 0!==i.$blk)break t;case 5:case 1:return void(p=-1)}return}return{$blk:e,$c:!0,$r:$,_1:l,_r$3:o,_r$4:i,err:r,errType:u,x$5:s,$s:p}}),new g.constructor.elem(g))])),void(m=-1)}return}return{$blk:e,$c:!0,$r:y,_r:r,_r$1:l,_r$2:o,x:i,x$1:$,x$2:f,x$3:k,x$4:g,$s:m}},X=function e(){var{_r:r,_r$1:l,_r$2:o,_r$3:u,_r$4:s,_r$5:p,_r$6:$,_r$7:f,_tmp:C,_tmp$1:S,_tmp$2:x,_tmp$3:j,form:E,hasName:I,hasPassword:G,hasPolicy:T,hasRoom:O,hasTurnCred:F,hasTurnUrl:A,hasTurnUser:N,nameField:L,nameLabel:z,passwordField:P,passwordLabel:R,policyAll:B,policyLabel:D,policyRelay:H,policySelect:J,roomField:W,roomLabel:Q,submit:Y,turnButton:X,turnCredField:Z,turnCredLabel:te,turnSettings:re,turnSettingsVisible:ne,turnUrlField:ae,turnUrlLabel:le,turnUserField:oe,turnUserLabel:ie,url:ue,x:se,x$1:ce,x$10:pe,x$11:$e,x$12:fe,x$13:he,x$14:ve,x$15:ke,x$2:be,x$3:we,x$4:ge,x$5:me,x$6:ye,x$7:Ve,x$8:Se,x$9:xe,$s:_e,$r:je,$c:Ee}=it(this,{});_e=_e||0;e:for(;;){switch(_e){case 0:if(G=[G],O=[O],L=[L],P=[P],J=[J],W=[W],Z=[Z],re=[re],ne=[ne],ae=[ae],oe=[oe],n.Value.copy(_,t.GetElementById("app")),O[0]=b(b(t.Params,n.Value).Call("has",new c([new de("room")])),n.Value).Bool(),I=b(b(t.Params,n.Value).Call("has",new c([new de("name")])),n.Value).Bool(),G[0]=b(b(t.Params,n.Value).Call("has",new c([new de("password")])),n.Value).Bool(),A=b(b(t.Params,n.Value).Call("has",new c([new de("turnurl")])),n.Value).Bool(),N=b(b(t.Params,n.Value).Call("has",new c([new de("turnuser")])),n.Value).Bool(),F=b(b(t.Params,n.Value).Call("has",new c([new de("turncred")])),n.Value).Bool(),T=b(b(t.Params,n.Value).Call("has",new c([new de("policy")])),n.Value).Bool(),O[0]){_e=1;continue}_e=2;continue;case 1:r=q(b(b(t.Params,n.Value).Call("get",new c([new de("room")])),n.Value).String()),_e=3;case 3:if(Ee&&(Ee=!1,r=r.$blk()),r&&void 0!==r.$blk)break e;v=r;case 2:if(I){_e=4;continue}_e=5;continue;case 4:l=q(b(b(t.Params,n.Value).Call("get",new c([new de("name")])),n.Value).String()),_e=6;case 6:if(Ee&&(Ee=!1,l=l.$blk()),l&&void 0!==l.$blk)break e;k=l;case 5:if(G[0]){_e=7;continue}_e=8;continue;case 7:o=q(b(b(t.Params,n.Value).Call("get",new c([new de("password")])),n.Value).String()),_e=9;case 9:if(Ee&&(Ee=!1,o=o.$blk()),o&&void 0!==o.$blk)break e;w=o;case 8:if(A){_e=10;continue}_e=11;continue;case 10:u=q(b(b(t.Params,n.Value).Call("get",new c([new de("turnurl")])),n.Value).String()),_e=12;case 12:if(Ee&&(Ee=!1,u=u.$blk()),u&&void 0!==u.$blk)break e;g=u;case 11:if(N){_e=13;continue}_e=14;continue;case 13:s=q(b(b(t.Params,n.Value).Call("get",new c([new de("turnuser")])),n.Value).String()),_e=15;case 15:if(Ee&&(Ee=!1,s=s.$blk()),s&&void 0!==s.$blk)break e;m=s;case 14:if(F){_e=16;continue}_e=17;continue;case 16:p=q(b(b(t.Params,n.Value).Call("get",new c([new de("turncred")])),n.Value).String()),_e=18;case 18:if(Ee&&(Ee=!1,p=p.$blk()),p&&void 0!==p.$blk)break e;y=p;case 17:if(T){_e=19;continue}_e=20;continue;case 19:$=q(b(b(t.Params,n.Value).Call("get",new c([new de("policy")])),n.Value).String()),_e=21;case 21:if(Ee&&(Ee=!1,$=$.$blk()),$&&void 0!==$.$blk)break e;V=$;case 20:ue=b(b(t.URL,n.Value).New(new c([(se=b(t.Location,n.Value).Get("href"),new se.constructor.elem(se))])),n.Value),d=b(b(ue,n.Value).Call("toString",c.nil),n.Value).String(),f=t.Log(new c([new de("Full URL (THIS URL CONTAINS ALL OF YOUR TIGERCHAT SETTINGS, SO USE AT YOUR OWN RISK): "+d)])),_e=22;case 22:if(Ee&&(Ee=!1,f=f.$blk()),f&&void 0!==f.$blk)break e;return b(ue,n.Value).Set("search",new de("")),h=b(b(ue,n.Value).Call("toString",c.nil),n.Value).String(),b(t.History,n.Value).Call("replaceState",new c([Ce,Ce,new de(h)])),O[0]&&I&&G[0]?(t.LoadJS("https://cdn.jsdelivr.net/npm/peerjs@1.5.5/dist/peerjs.min.js",function(){return function(){t.LoadJS("https://cdn.jsdelivr.net/npm/argon2-browser@1.18.0/dist/argon2-bundled.min.js",function(){t.LoadJS("https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js",function e(){var{$s:t,$r:r,$c:n}=it(this,{});t=t||0;t:for(;;){switch(t){case 0:r=K(),t=1;case 1:if(n&&(n=!1,r=r.$blk()),r&&void 0!==r.$blk)break t;return void(t=-1)}return}return{$blk:e,$c:!0,$r:r,$s:t}})})}}()),void(_e=-1)):(b(t.Document,n.Value).Set("title",new de("TigerChat - Log in")),b(_,n.Value).Set("innerHTML",Ce),ne[0]=!1,re[0]=b(t.CreateElement("div"),n.Value),b(re[0],n.Value).Set("hidden",new ee(!0)),le=b(t.CreateElement("label"),n.Value),b(le,n.Value).Set("textContent",new de("URL:")),b(re[0],n.Value).Call("appendChild",new c([new le.constructor.elem(le)])),b(re[0],n.Value).Call("appendChild",new c([(ce=t.CreateElement("br"),new ce.constructor.elem(ce))])),ae[0]=b(t.CreateElement("input"),n.Value),A&&b(ae[0],n.Value).Set("value",new de(g)),b(re[0],n.Value).Call("appendChild",new c([new ae[0].constructor.elem(ae[0])])),b(re[0],n.Value).Call("appendChild",new c([(be=t.CreateElement("br"),new be.constructor.elem(be))])),ie=b(t.CreateElement("label"),n.Value),b(ie,n.Value).Set("textContent",new de("User Name:")),b(re[0],n.Value).Call("appendChild",new c([new ie.constructor.elem(ie)])),b(re[0],n.Value).Call("appendChild",new c([(we=t.CreateElement("br"),new we.constructor.elem(we))])),oe[0]=b(t.CreateElement("input"),n.Value),N&&b(oe[0],n.Value).Set("value",new de(m)),b(re[0],n.Value).Call("appendChild",new c([new oe[0].constructor.elem(oe[0])])),b(re[0],n.Value).Call("appendChild",new c([(ge=t.CreateElement("br"),new ge.constructor.elem(ge))])),te=b(t.CreateElement("label"),n.Value),b(te,n.Value).Set("textContent",new de("Credential:")),b(re[0],n.Value).Call("appendChild",new c([new te.constructor.elem(te)])),b(re[0],n.Value).Call("appendChild",new c([(me=t.CreateElement("br"),new me.constructor.elem(me))])),Z[0]=b(t.CreateElement("input"),n.Value),b(Z[0],n.Value).Set("type",new de("password")),F&&b(Z[0],n.Value).Set("value",new de(y)),b(re[0],n.Value).Call("appendChild",new c([new Z[0].constructor.elem(Z[0])])),b(re[0],n.Value).Call("appendChild",new c([(ye=t.CreateElement("br"),new ye.constructor.elem(ye))])),D=b(t.CreateElement("label"),n.Value),b(D,n.Value).Set("textContent",new de("ICE Transport Policy:")),b(re[0],n.Value).Call("appendChild",new c([new D.constructor.elem(D)])),b(re[0],n.Value).Call("appendChild",new c([(Ve=t.CreateElement("br"),new Ve.constructor.elem(Ve))])),J[0]=b(t.CreateElement("select"),n.Value),B=b(t.CreateElement("option"),n.Value),b(B,n.Value).Set("value",new de("all")),b(B,n.Value).Set("textContent",new de("All")),b(B,n.Value).Set("title",new de("Select the best network path of all candidates, even if it is not through TURN")),b(J[0],n.Value).Call("appendChild",new c([new B.constructor.elem(B)])),H=b(t.CreateElement("option"),n.Value),b(H,n.Value).Set("value",new de("relay")),b(H,n.Value).Set("textContent",new de("Relay")),b(H,n.Value).Set("title",new de("Select the best network path of only relay candidates to ensure only TURN is used")),b(J[0],n.Value).Call("appendChild",new c([new H.constructor.elem(H)])),T?b(J[0],n.Value).Set("value",new de(V)):b(J[0],n.Value).Set("value",new de("all")),b(re[0],n.Value).Call("appendChild",new c([new J[0].constructor.elem(J[0])])),b(re[0],n.Value).Call("appendChild",new c([(Se=t.CreateElement("br"),new Se.constructor.elem(Se))])),U(b(re[0],n.Value)),X=b(t.CreateButton("TURN Settings",function(e,t,r,a,l,o,i,u,s){return function(){s[0]?(b(u[0],n.Value).Set("hidden",new ee(!0)),s[0]=!1):(b(u[0],n.Value).Set("hidden",new ee(!1)),s[0]=!0)}}(0,0,0,0,0,0,0,re,ne)),n.Value),U(b(X,n.Value)),U(b(t.CreateElement("br"),n.Value)),U(b(t.CreateElement("br"),n.Value)),U(b(t.CreateElement("br"),n.Value)),E=b(t.CreateElement("form"),n.Value),C=new n.Value.ptr(null,!1,i.zero()),S=new n.Value.ptr(null,!1,i.zero()),Q=b(C,n.Value),W[0]=b(S,n.Value),O[0]||(n.Value.copy(Q,t.CreateElement("label")),b(Q,n.Value).Set("textContent",new de("Chat Room Name:")),b(E,n.Value).Call("appendChild",new c([new Q.constructor.elem(Q)])),b(E,n.Value).Call("appendChild",new c([(xe=t.CreateElement("br"),new xe.constructor.elem(xe))])),n.Value.copy(W[0],t.CreateElement("input")),b(W[0],n.Value).Set("type",new de("text")),b(W[0],n.Value).Set("maxLength",new de("24")),b(W[0],n.Value).Set("pattern",new de("[\\x00-\\x7f]*")),b(W[0],n.Value).Set("title",new de("1 to 24 ANSI characters")),b(W[0],n.Value).Set("required",new ee(!0)),b(E,n.Value).Call("appendChild",new c([new W[0].constructor.elem(W[0])])),b(E,n.Value).Call("appendChild",new c([(pe=t.CreateElement("br"),new pe.constructor.elem(pe))]))),z=b(t.CreateElement("label"),n.Value),b(z,n.Value).Set("textContent",new de("User Name:")),b(E,n.Value).Call("appendChild",new c([new z.constructor.elem(z)])),b(E,n.Value).Call("appendChild",new c([($e=t.CreateElement("br"),new $e.constructor.elem($e))])),L[0]=b(t.CreateElement("input"),n.Value),b(L[0],n.Value).Set("required",new ee(!0)),b(E,n.Value).Call("appendChild",new c([new L[0].constructor.elem(L[0])])),b(E,n.Value).Call("appendChild",new c([(fe=t.CreateElement("br"),new fe.constructor.elem(fe))])),x=new n.Value.ptr(null,!1,i.zero()),j=new n.Value.ptr(null,!1,i.zero()),R=b(x,n.Value),P[0]=b(j,n.Value),G[0]||(n.Value.copy(R,t.CreateElement("label")),b(R,n.Value).Set("textContent",new de("Chat Room Password:")),b(E,n.Value).Call("appendChild",new c([new R.constructor.elem(R)])),b(E,n.Value).Call("appendChild",new c([(he=t.CreateElement("br"),new he.constructor.elem(he))])),n.Value.copy(P[0],t.CreateElement("input")),b(P[0],n.Value).Set("type",new de("password")),b(P[0],n.Value).Set("required",new ee(!0)),b(E,n.Value).Call("appendChild",new c([new P[0].constructor.elem(P[0])])),b(E,n.Value).Call("appendChild",new c([(ve=t.CreateElement("br"),new ve.constructor.elem(ve))]))),Y=b(t.CreateElement("input"),n.Value),b(Y,n.Value).Set("type",new de("submit")),b(Y,n.Value).Set("value",new de("Enter chat")),b(E,n.Value).Call("appendChild",new c([new Y.constructor.elem(Y)])),b(E,n.Value).Call("addEventListener",new c([new de("submit"),(ke=t.ProcOf(function(e,r,l,o,i,u,s,p,$,f,d){return function p($){var{_r$10:C,_r$11:S,_r$12:x,_r$13:_,_r$14:j,_r$15:E,_r$16:I,_r$8:G,_r$9:T,event:$,turnSettingsStr:O,$s:F,$r:A,$c:N}=it(this,{event:$});F=F||0;t:for(;;){switch(F){case 0:if(b(0>=$.$length?void a("index out of range"):$.$array[$.$offset+0],n.Value).Call("preventDefault",c.nil),!r[0]){F=1;continue}F=2;continue;case 1:G=M(b(b(u[0],n.Value).Get("value"),n.Value).String()),F=4;case 4:if(N&&(N=!1,G=G.$blk()),G&&void 0!==G.$blk)break t;v=G,F=3;continue;case 2:T=M(v),F=5;case 5:if(N&&(N=!1,T=T.$blk()),T&&void 0!==T.$blk)break t;v=T;case 3:C=M(b(b(l[0],n.Value).Get("value"),n.Value).String()),F=6;case 6:if(N&&(N=!1,C=C.$blk()),C&&void 0!==C.$blk)break t;if(k=C,!e[0]){F=7;continue}F=8;continue;case 7:S=M(b(b(o[0],n.Value).Get("value"),n.Value).String()),F=10;case 10:if(N&&(N=!1,S=S.$blk()),S&&void 0!==S.$blk)break t;w=S,F=9;continue;case 8:x=M(w),F=11;case 11:if(N&&(N=!1,x=x.$blk()),x&&void 0!==x.$blk)break t;w=x;case 9:_=M(b(b(f[0],n.Value).Get("value"),n.Value).String()),F=12;case 12:if(N&&(N=!1,_=_.$blk()),_&&void 0!==_.$blk)break t;g=_,j=M(b(b(d[0],n.Value).Get("value"),n.Value).String()),F=13;case 13:if(N&&(N=!1,j=j.$blk()),j&&void 0!==j.$blk)break t;m=j,E=M(b(b(s[0],n.Value).Get("value"),n.Value).String()),F=14;case 14:if(N&&(N=!1,E=E.$blk()),E&&void 0!==E.$blk)break t;y=E,I=M(b(b(i[0],n.Value).Get("value"),n.Value).String()),F=15;case 15:if(N&&(N=!1,I=I.$blk()),I&&void 0!==I.$blk)break t;return V=I,O="","T"!==g&&"T"!==m&&"T"!==y&&(O="&turnurl="+g+"&turnuser="+m+"&turncred="+y+"&policy="+V),b(t.Location,n.Value).Set("href",new de(h+"?room="+v+"&name="+k+"&password="+w+O)),void(F=-1)}return}return{$blk:p,$c:!0,$r:A,_r$10:C,_r$11:S,_r$12:x,_r$13:_,_r$14:j,_r$15:E,_r$16:I,_r$8:G,_r$9:T,event:$,turnSettingsStr:O,$s:F}}}(G,O,L,P,J,W,Z,0,0,ae,oe)),new ke.constructor.elem(ke))])),U(b(E,n.Value)),void(_e=-1))}return}return{$blk:e,$c:!0,$r:je,_r:r,_r$1:l,_r$2:o,_r$3:u,_r$4:s,_r$5:p,_r$6:$,_r$7:f,_tmp:C,_tmp$1:S,_tmp$2:x,_tmp$3:j,form:E,hasName:I,hasPassword:G,hasPolicy:T,hasRoom:O,hasTurnCred:F,hasTurnUrl:A,hasTurnUser:N,nameField:L,nameLabel:z,passwordField:P,passwordLabel:R,policyAll:B,policyLabel:D,policyRelay:H,policySelect:J,roomField:W,roomLabel:Q,submit:Y,turnButton:X,turnCredField:Z,turnCredLabel:te,turnSettings:re,turnSettingsVisible:ne,turnUrlField:ae,turnUrlLabel:le,turnUserField:oe,turnUserLabel:ie,url:ue,x:se,x$1:ce,x$10:pe,x$11:$e,x$12:fe,x$13:he,x$14:ve,x$15:ke,x$2:be,x$3:we,x$4:ge,x$5:me,x$6:ye,x$7:Ve,x$8:Se,x$9:xe,$s:_e}},Z=function(){var e;return e=b(b(t.Uint8Array,n.Value).New(new c([new te(16)])),n.Value),b(t.Crypto,n.Value).Call("getRandomValues",new c([new e.constructor.elem(e)])),b(b(e,n.Value).Call("toBase64",c.nil),n.Value).String()},re=function e(r,a,l){var{_r:o,_r$1:i,_r$2:u,argon2Callback:l,password$1:a,salt:r,$s:s,$r:$,$c:d}=it(this,{salt:r,password$1:a,argon2Callback:l});s=s||0;e:for(;;){switch(s){case 0:l=[l],o=t.Get("argon2"),s=1;case 1:if(d&&(d=!1,o=o.$blk()),o&&void 0!==o.$blk)break e;i=b(o,n.Value).Call("hash",new c([new p(Re(de.keyFor,[{k:"pass",v:new de(a)},{k:"salt",v:new de(r)}]))])),s=2;case 2:if(d&&(d=!1,i=i.$blk()),i&&void 0!==i.$blk)break e;u=t.ThenableChain(b(i,n.Value),function(e){return function t(r){var{hash:r,$s:a,$r:l,$c:o}=it(this,{hash:r});a=a||0;t:for(;;){switch(a){case 0:l=e[0](b(b(r,n.Value).Get("hashHex"),n.Value).String()),a=1;case 1:if(o&&(o=!1,l=l.$blk()),l&&void 0!==l.$blk)break t;return a=-1,Ce}return}return{$blk:t,$c:!0,$r:l,hash:r,$s:a}}}(l),f.nil),s=3;case 3:if(d&&(d=!1,u=u.$blk()),u&&void 0!==u.$blk)break e;return void(s=-1)}return}return{$blk:e,$c:!0,$r:$,_r:o,_r$1:i,_r$2:u,argon2Callback:l,password$1:a,salt:r,$s:s}},ne=function e(r,l,o,i,u){var{_r:s,conn:r,connID:l,connName:$,initiator:o,reconnect:i,salt:u,x:f,x$1:d,x$2:h,x$3:v,x$4:g,$s:m,$r:y,$c:V}=it(this,{conn:r,connID:l,initiator:o,reconnect:i,salt:u});m=m||0;e:for(;;){switch(m){case 0:if(r=[r],l=[l],o=[o],i=[i],u=[u],!x||N)return void(m=-1);($=[$])[0]="",n.Value.copy(l[0]<0||l[0]>=F.length?void a("index out of range"):F[l[0]],r[0]),s=t.SetTimeout(new c([(f=t.SimpleProcOf(function(e,t){return function r(){var{$s:l,$r:o,$c:i}=it(this,{});l=l||0;t:for(;;){switch(l){case 0:if(!x||N)return void(l=-1);if(!(t[0]<0||t[0]>=A.length?void a("index out of range"):A[t[0]])){l=1;continue}l=2;continue;case 1:if(b(e[0],n.Value).Call("close",c.nil),n.Value.copy(t[0]<0||t[0]>=F.length?void a("index out of range"):F[t[0]],n.Undefined()),x&&!N&&0===J()){l=3;continue}l=4;continue;case 3:o=Q(!1),l=5;case 5:if(i&&(i=!1,o=o.$blk()),o&&void 0!==o.$blk)break t;case 4:case 2:return void(l=-1)}return}return{$blk:r,$c:!0,$r:o,$s:l}}}(r,l)),new f.constructor.elem(f)),new te(5e3)])),m=1;case 1:if(V&&(V=!1,s=s.$blk()),s&&void 0!==s.$blk)break e;return b(r[0],n.Value).Call("on",new c([new de("data"),(d=t.ProcOf(function(e,r,l,o,i,u){return function o(s){var{_1:$,_2:f,_r$1:d,connID$1:h,connectTimer:v,data:s,img:g,metadata:m,msg:y,x$2:V,x$3:S,x$4:x,x$5:_,$s:j,$r:E,$c:I}=it(this,{data:s});j=j||0;t:for(;;){switch(j){case 0:if(h=[h],m=[m],t.HasOwn(b(0>=s.$length?void a("index out of range"):s.$array[s.$offset+0],n.Value),"metadata")){j=1;continue}if(r[0]<0||r[0]>=A.length?void a("index out of range"):A[r[0]]){j=2;continue}j=3;continue;case 1:if(m[0]=b(b(0>=s.$length?void a("index out of range"):s.$array[s.$offset+0],n.Value).Get("metadata"),n.Value),y=b(b(m[0],n.Value).Get("msg"),n.Value).String(),!(r[0]<0||r[0]>=A.length?void a("index out of range"):A[r[0]])){j=5;continue}j=6;continue;case 5:if("response-challenge"===($=y)){j=9;continue}if("response"===$){j=10;continue}j=11;continue;case 9:E=re(u[0],w,function(e,t,r,l,o,i){return function r(l){var{hash:l,$s:o,$r:u,$c:s}=it(this,{hash:l});o=o||0;r:for(;;){switch(o){case 0:if(b(b(i[0],n.Value).Get("response"),n.Value).String()===l){o=1;continue}o=2;continue;case 1:t[0]<0||t[0]>=A.length?a("index out of range"):A[t[0]]=!0,u=re(b(b(i[0],n.Value).Get("challenge"),n.Value).String(),w,function(e){return function(t){b(e[0],n.Value).Call("send",new c([new p(Re(de.keyFor,[{k:"metadata",v:new p(Re(de.keyFor,[{k:"msg",v:new de("response")},{k:"response",v:new de(t)}]))}]))]))}}(e)),o=4;case 4:if(s&&(s=!1,u=u.$blk()),u&&void 0!==u.$blk)break r;o=3;continue;case 2:b(e[0],n.Value).Call("close",c.nil);case 3:return void(o=-1)}return}return{$blk:r,$c:!0,$r:u,hash:l,$s:o}}}(e,r,0,0,0,m)),j=13;case 13:if(I&&(I=!1,E=E.$blk()),E&&void 0!==E.$blk)break t;j=12;continue;case 10:E=re(u[0],w,function(e,t,r,l,o,i,u){return function(r){b(b(i[0],n.Value).Get("response"),n.Value).String()===r?(t[0]<0||t[0]>=A.length?a("index out of range"):A[t[0]]=!0,b(e[0],n.Value).Call("send",new c([new p(Re(de.keyFor,[{k:"metadata",v:new p(Re(de.keyFor,[{k:"msg",v:new de("name-request")},{k:"name",v:new de(k)}]))}]))])),R(new p(Re(de.keyFor,[{k:"metadata",v:new p(Re(de.keyFor,[{k:"msg",v:new de("intro")},{k:"id",v:new te(t[0])},{k:"reconnect",v:new ee(u[0])}]))}])))):b(e[0],n.Value).Call("close",c.nil)}}(e,r,0,0,0,m,i)),j=14;case 14:if(I&&(I=!1,E=E.$blk()),E&&void 0!==E.$blk)break t;j=12;continue;case 11:b(e[0],n.Value).Call("close",c.nil);case 12:case 8:j=7;continue;case 6:if("name-request"===(f=y)){j=16;continue}if("name-response"===f){j=17;continue}if("intro"===f){j=18;continue}j=19;continue;case 16:l[0]=b(b(m[0],n.Value).Get("name"),n.Value).String(),C||z(),P(new de(l[0]+" has entered the chat")),b(e[0],n.Value).Call("send",new c([new p(Re(de.keyFor,[{k:"metadata",v:new p(Re(de.keyFor,[{k:"msg",v:new de("name-response")},{k:"name",v:new de(k)}]))}]))])),j=20;continue;case 17:l[0]=b(b(m[0],n.Value).Get("name"),n.Value).String(),C||z(),P(new de(l[0]+" has entered the chat")),j=20;continue;case 18:h[0]=b(b(m[0],n.Value).Get("id"),n.Value).Int(),!b(h[0]<0||h[0]>=F.length?void a("index out of range"):F[h[0]],n.Value).IsUndefined()&&b(b(m[0],n.Value).Get("reconnect"),n.Value).Bool()&&(b(h[0]<0||h[0]>=F.length?void a("index out of range"):F[h[0]],n.Value).Call("close",c.nil),n.Value.copy(h[0]<0||h[0]>=F.length?void a("index out of range"):F[h[0]],n.Undefined()),h[0]<0||h[0]>=A.length?a("index out of range"):A[h[0]]=!1),v=b(b(t.Math,n.Value).Call("floor",new c([new fe(5001*b(b(t.Math,n.Value).Call("random",c.nil),n.Value).Float())])),n.Value),d=t.SetTimeout(new c([(V=t.SimpleProcOf(function(e,t,r){return function e(){var{$s:t,$r:l,$c:o}=it(this,{});t=t||0;r:for(;;){switch(t){case 0:if(T!==r[0]&&b(r[0]<0||r[0]>=F.length?void a("index out of range"):F[r[0]],n.Value).IsUndefined()){t=1;continue}t=2;continue;case 1:l=W(r[0]),t=3;case 3:if(o&&(o=!1,l=l.$blk()),l&&void 0!==l.$blk)break r;case 2:return void(t=-1)}return}return{$blk:e,$c:!0,$r:l,$s:t}}}(0,0,h)),new V.constructor.elem(V)),new v.constructor.elem(v)])),j=21;case 21:if(I&&(I=!1,d=d.$blk()),d&&void 0!==d.$blk)break t;j=20;continue;case 19:b(e[0],n.Value).Call("close",c.nil);case 20:case 15:case 7:j=4;continue;case 2:t.HasOwn(b(0>=s.$length?void a("index out of range"):s.$array[s.$offset+0],n.Value),"text")?P(new de(l[0]+": "+b(b(0>=s.$length?void a("index out of range"):s.$array[s.$offset+0],n.Value).Get("text"),n.Value).String())):t.HasOwn(b(0>=s.$length?void a("index out of range"):s.$array[s.$offset+0],n.Value),"image")?(g=b(t.CreateElement("img"),n.Value),b(g,n.Value).Set("src",new((S=b(t.URL,n.Value).Call("createObjectURL",new c([(x=b(t.Blob,n.Value).New(new c([(_=b(0>=s.$length?void a("index out of range"):s.$array[s.$offset+0],n.Value).Get("image"),new _.constructor.elem(_))])),new x.constructor.elem(x))]))).constructor.elem)(S)),P(new de(l[0]+": ")),P(new g.constructor.elem(g))):b(e[0],n.Value).Call("close",c.nil),j=4;continue;case 3:b(e[0],n.Value).Call("close",c.nil);case 4:return void(j=-1)}return}return{$blk:o,$c:!0,$r:E,_1:$,_2:f,_r$1:d,connID$1:h,connectTimer:v,data:s,img:g,metadata:m,msg:y,x$2:V,x$3:S,x$4:x,x$5:_,$s:j}}}(r,l,$,0,i,u)),new d.constructor.elem(d))])),b(r[0],n.Value).Call("on",new c([new de("open"),(h=t.SimpleProcOf(function(e,t,r,l,o,i){return function r(){var{mySalt:o,$s:u,$r:s,$c:$}=it(this,{});u=u||0;t:for(;;){switch(u){case 0:if(o=[o],!(t[0]<0||t[0]>=A.length?void a("index out of range"):A[t[0]])&&!l[0]){u=1;continue}u=2;continue;case 1:o[0]=Z(),s=re(i[0],w,function(e,t,r,a,l,o,i){return function(t){b(e[0],n.Value).Call("send",new c([new p(Re(de.keyFor,[{k:"metadata",v:new p(Re(de.keyFor,[{k:"msg",v:new de("response-challenge")},{k:"response",v:new de(t)},{k:"challenge",v:new de(l[0])}]))}]))])),i[0]=l[0]}}(e,0,0,0,o,0,i)),u=3;case 3:if($&&($=!1,s=s.$blk()),s&&void 0!==s.$blk)break t;case 2:return void(u=-1)}return}return{$blk:r,$c:!0,$r:s,mySalt:o,$s:u}}}(r,l,0,o,0,u)),new h.constructor.elem(h))])),b(r[0],n.Value).Call("on",new c([new de("close"),(v=t.SimpleProcOf(function(e,r,l){return function e(){var{_r$1:o,x$4:i,$s:u,$r:s,$c:p}=it(this,{});u=u||0;t:for(;;){switch(u){case 0:if(n.Value.copy(r[0]<0||r[0]>=F.length?void a("index out of range"):F[r[0]],n.Undefined()),(r[0]<0||r[0]>=A.length?void a("index out of range"):A[r[0]])&&(r[0]<0||r[0]>=A.length?a("index out of range"):A[r[0]]=!1,P(new de(l[0]+" has left the chat"))),x&&!N&&0===J()){u=1;continue}u=2;continue;case 1:o=t.SetTimeout(new c([(i=t.SimpleProcOf(function(){return function e(){var{$s:t,$r:r,$c:n}=it(this,{});t=t||0;r:for(;;){switch(t){case 0:if(x&&!N&&0===J()){t=1;continue}t=2;continue;case 1:r=Q(!0),t=3;case 3:if(n&&(n=!1,r=r.$blk()),r&&void 0!==r.$blk)break r;case 2:return void(t=-1)}return}return{$blk:e,$c:!0,$r:r,$s:t}}}()),new i.constructor.elem(i)),new te(5e3)])),u=3;case 3:if(p&&(p=!1,o=o.$blk()),o&&void 0!==o.$blk)break t;case 2:return void(u=-1)}return}return{$blk:e,$c:!0,$r:s,_r$1:o,x$4:i,$s:u}}}(0,l,$)),new v.constructor.elem(v))])),b(r[0],n.Value).Call("on",new c([new de("error"),(g=t.ProcOf(function(e){return function r(l){var{_r$1:o,err:l,$s:i,$r:u,$c:s}=it(this,{err:l});i=i||0;t:for(;;){switch(i){case 0:o=t.Log(new c([new de("Data connection error with "+b(b(e[0],n.Value).Get("peer"),n.Value).String()+": "+b(b(0>=l.$length?void a("index out of range"):l.$array[l.$offset+0],n.Value).Get("type"),n.Value).String())])),i=1;case 1:if(s&&(s=!1,o=o.$blk()),o&&void 0!==o.$blk)break t;return void(i=-1)}return}return{$blk:r,$c:!0,$r:u,_r$1:o,err:l,$s:i}}}(r)),new g.constructor.elem(g))])),void(m=-1)}return}return{$blk:e,$c:!0,$r:y,_r:s,conn:r,connID:l,connName:$,initiator:o,reconnect:i,salt:u,x:f,x$1:d,x$2:h,x$3:v,x$4:g,$s:m}}},e=function(){ae.$init=function(){};var a,l,o=!1,c=0;void 0!==this&&void 0!==this.$blk&&(o=!0,c=(a=this).$s,l=a.$r);e:for(;;){switch(c){case 0:l=t.$init(),c=1;case 1:if(o&&(o=!1,l=l.$blk()),l&&void 0!==l.$blk)break e;l=r.$init(),c=2;case 2:if(o&&(o=!1,l=l.$blk()),l&&void 0!==l.$blk)break e;l=n.$init(),c=3;case 3:if(o&&(o=!1,l=l.$blk()),l&&void 0!==l.$blk)break e;if(d="",h="",v="",k="",w="",g="",m="",y="",V="",C=!1,S=!1,x=!1,_=new n.Value.ptr(null,!1,i.zero()),j=new n.Value.ptr(null,!1,i.zero()),E=new n.Value.ptr(null,!1,i.zero()),I=new n.Value.ptr(null,!1,i.zero()),G=new n.Value.ptr(null,!1,i.zero()),T=0,O=0,F=u.zero(),A=s.zero(),N=!0,ae===dt){c=4;continue}c=5;continue;case 4:l=X(),c=6;case 6:if(o&&(o=!1,l=l.$blk()),l&&void 0!==l.$blk)break e;nt=!0}return}return void 0===a&&(a={$blk:e}),a.$s=c,a.$r=l,a},ae.$init=e,ae}(),p("$finishSetup"),H.forEach(e=>{e()}),H=null,p("$initLinknames");var dt=l["main/src"];l.runtime.$init(),((t,r)=>{et++;var n=()=>{try{Ze=n;var a=t(...r);if(a&&void 0!==a.$blk)return t=()=>a.$blk(),void(r=[]);n.exit=!0}catch(e){if(!n.exit)throw e}finally{Ze=Xe,n.exit&&(n.asleep=!0),n.asleep&&(et--,!nt&&0===et&&tt&&0===rt&&(console.error("fatal error: all goroutines are asleep - deadlock!"),void 0!==e.process&&e.process.exit(2)))}};n.asleep=!1,n.exit=!1,n.deferStack=[],n.panicStack=[],ot(n)})(dt.$init,[])}).call(this);